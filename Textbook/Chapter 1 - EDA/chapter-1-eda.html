<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.25">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Chapter 1: Exploratory Data Analysis and AI-Assisted Coding – MATH 3339: Introduction to Data Science</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js" integrity="sha384-ZvpUoO/+PpLXR1lu4jmpXWu80pZlYUAfxl5NsBMWOEPSjUn/6Z/hRTt8+pR6L4N2" crossorigin="anonymous"></script><script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../../site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-7b89279ff1a6dce999919e0e67d4d9ec.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-5b4ad623e5705c0698d39aec6f10cf02.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="https://cdn.jsdelivr.net/npm/requirejs@2.3.6/require.min.js" integrity="sha384-c9c+LnTbwQ3aujuU7ULEPVvgLs+Fn6fJUvIGTsuu1ZcCf11fiEubah0ttpca4ntM sha384-6V1/AdqZRWk1KAlWbKBlGhN7VG4iE/yAZcO6NZPMF8od0vukrvr0tg4qY6NSrItx" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


<link rel="stylesheet" href="../../styles/textbook-nav.css">
</head>

<body class="quarto-light">

<div id="quarto-search-results"></div>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#ch1-resources" id="toc-ch1-resources" class="nav-link active" data-scroll-target="#ch1-resources">Chapter Resources</a></li>
  <li><a href="#ch1-intro" id="toc-ch1-intro" class="nav-link" data-scroll-target="#ch1-intro">Introduction</a>
  <ul class="collapse">
  <li><a href="#what-is-eda" id="toc-what-is-eda" class="nav-link" data-scroll-target="#what-is-eda">What is EDA?</a></li>
  <li><a href="#ai-coding-assistants" id="toc-ai-coding-assistants" class="nav-link" data-scroll-target="#ai-coding-assistants">AI Coding Assistants</a></li>
  </ul></li>
  <li><a href="#ch1-1" id="toc-ch1-1" class="nav-link" data-scroll-target="#ch1-1">1. Getting Started with AI Coding Assistants</a>
  <ul class="collapse">
  <li><a href="#why-use-ai-for-coding" id="toc-why-use-ai-for-coding" class="nav-link" data-scroll-target="#why-use-ai-for-coding">1.1 Why Use AI for Coding?</a></li>
  <li><a href="#writing-effective-prompts" id="toc-writing-effective-prompts" class="nav-link" data-scroll-target="#writing-effective-prompts">1.2 Writing Effective Prompts</a></li>
  <li><a href="#when-to-use-ai-vs.-coding-by-hand" id="toc-when-to-use-ai-vs.-coding-by-hand" class="nav-link" data-scroll-target="#when-to-use-ai-vs.-coding-by-hand">1.3 When to Use AI vs.&nbsp;Coding By Hand</a></li>
  <li><a href="#learning-outcomes" id="toc-learning-outcomes" class="nav-link" data-scroll-target="#learning-outcomes">Learning outcomes:</a></li>
  </ul></li>
  <li><a href="#ch1-2" id="toc-ch1-2" class="nav-link" data-scroll-target="#ch1-2">2. Data Manipulation with Pandas</a>
  <ul class="collapse">
  <li><a href="#loading-data" id="toc-loading-data" class="nav-link" data-scroll-target="#loading-data">2.1 Loading Data</a></li>
  <li><a href="#selecting-and-filtering-data" id="toc-selecting-and-filtering-data" class="nav-link" data-scroll-target="#selecting-and-filtering-data">2.2 Selecting and Filtering Data</a></li>
  <li><a href="#data-cleaning-basics" id="toc-data-cleaning-basics" class="nav-link" data-scroll-target="#data-cleaning-basics">2.3 Data Cleaning Basics</a></li>
  <li><a href="#learning-outcomes-1" id="toc-learning-outcomes-1" class="nav-link" data-scroll-target="#learning-outcomes-1">Learning outcomes:</a></li>
  </ul></li>
  <li><a href="#ch1-3" id="toc-ch1-3" class="nav-link" data-scroll-target="#ch1-3">3. Statistical Summaries and Data Profiling</a>
  <ul class="collapse">
  <li><a href="#descriptive-statistics" id="toc-descriptive-statistics" class="nav-link" data-scroll-target="#descriptive-statistics">3.1 Descriptive Statistics</a></li>
  <li><a href="#outliers" id="toc-outliers" class="nav-link" data-scroll-target="#outliers">3.2 Outliers</a></li>
  <li><a href="#ch1-3-outcomes" id="toc-ch1-3-outcomes" class="nav-link" data-scroll-target="#ch1-3-outcomes">Learning outcomes:</a></li>
  </ul></li>
  <li><a href="#ch1-4" id="toc-ch1-4" class="nav-link" data-scroll-target="#ch1-4">4. Data Visualization Principles</a>
  <ul class="collapse">
  <li><a href="#ch1-4-1" id="toc-ch1-4-1" class="nav-link" data-scroll-target="#ch1-4-1">4.1 Choosing the Right Visualization</a></li>
  <li><a href="#ch1-4-2" id="toc-ch1-4-2" class="nav-link" data-scroll-target="#ch1-4-2">4.2 Creating Visualizations with Seaborn</a></li>
  <li><a href="#ch1-4-3" id="toc-ch1-4-3" class="nav-link" data-scroll-target="#ch1-4-3">4.3 Best Practices for Effective Visualizations</a></li>
  <li><a href="#ch1-4-outcomes" id="toc-ch1-4-outcomes" class="nav-link" data-scroll-target="#ch1-4-outcomes">Learning outcomes:</a></li>
  </ul></li>
  <li><a href="#ch1-5" id="toc-ch1-5" class="nav-link" data-scroll-target="#ch1-5">5. Testing Your Data Analysis Code</a>
  <ul class="collapse">
  <li><a href="#ch1-5-1" id="toc-ch1-5-1" class="nav-link" data-scroll-target="#ch1-5-1">5.1 Why Testing Matters</a></li>
  <li><a href="#ch1-5-2" id="toc-ch1-5-2" class="nav-link" data-scroll-target="#ch1-5-2">5.2 Using assert Statements</a></li>
  <li><a href="#ch1-5-outcomes" id="toc-ch1-5-outcomes" class="nav-link" data-scroll-target="#ch1-5-outcomes">Learning outcomes:</a></li>
  </ul></li>
  <li><a href="#ch1-6" id="toc-ch1-6" class="nav-link" data-scroll-target="#ch1-6">6. Scaling EDA with AI</a>
  <ul class="collapse">
  <li><a href="#ch1-6-1" id="toc-ch1-6-1" class="nav-link" data-scroll-target="#ch1-6-1">6.1 Automating Exploratory Visualizations</a></li>
  <li><a href="#ch1-6-2" id="toc-ch1-6-2" class="nav-link" data-scroll-target="#ch1-6-2">6.2 Testing Across Data Subsets</a></li>
  <li><a href="#ch1-6-outcomes" id="toc-ch1-6-outcomes" class="nav-link" data-scroll-target="#ch1-6-outcomes">Learning outcomes:</a></li>
  </ul></li>
  <li><a href="#ch1-7" id="toc-ch1-7" class="nav-link" data-scroll-target="#ch1-7">7. The Iterative Nature of EDA</a>
  <ul class="collapse">
  <li><a href="#ch1-7-1" id="toc-ch1-7-1" class="nav-link" data-scroll-target="#ch1-7-1">7.1 EDA as a Process, Not a Checklist</a></li>
  <li><a href="#ch1-7-2" id="toc-ch1-7-2" class="nav-link" data-scroll-target="#ch1-7-2">7.2 Documenting Your Findings</a></li>
  <li><a href="#ch1-7-outcomes" id="toc-ch1-7-outcomes" class="nav-link" data-scroll-target="#ch1-7-outcomes">Learning outcomes:</a></li>
  </ul></li>
  <li><a href="#ch1-summary" id="toc-ch1-summary" class="nav-link" data-scroll-target="#ch1-summary">Summary</a></li>
  <li><a href="#ch1-practice" id="toc-ch1-practice" class="nav-link" data-scroll-target="#ch1-practice">Practice Exercises</a></li>
  <li><a href="#ch1-additional-resources" id="toc-ch1-additional-resources" class="nav-link" data-scroll-target="#ch1-additional-resources">Additional Resources</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">
<nav class="chapter-nav" aria-label="Textbook navigation">
  <a class="chapter-nav__link" href="https://paulsavala.github.io/math-3339/" aria-label="Course home" title="Course home">
    <i class="bi bi-house"></i>
  </a>
  <a class="chapter-nav__link" href="../table-of-contents.html" aria-label="Table of contents" title="Table of contents">
    <i class="bi bi-list"></i>
  </a>
</nav>

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Chapter 1: Exploratory Data Analysis and AI-Assisted Coding</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="ch1-resources" class="level2">
<h2 class="anchored" data-anchor-id="ch1-resources">Chapter Resources</h2>
<p><strong>Related Assignments:</strong></p>
<ul>
<li><a href="../../Assignments/Chapter 1 - EDA/chapter-1-homework.html">Chapter 1 Homework</a></li>
</ul>
<hr>
</section>
<section id="ch1-intro" class="level2">
<h2 class="anchored" data-anchor-id="ch1-intro">Introduction</h2>
<section id="what-is-eda" class="level3">
<h3 class="anchored" data-anchor-id="what-is-eda">What is EDA?</h3>
<p>You can’t build effective models if you don’t understand your data. Exploratory Data Analysis (EDA) is the foundation of data science - it’s where you explore and understand your data before building models. In this first chapter we’ll learn the tools and techniques needed to do effective EDA.</p>
</section>
<section id="ai-coding-assistants" class="level3">
<h3 class="anchored" data-anchor-id="ai-coding-assistants">AI Coding Assistants</h3>
<p>Throughout this course we’ll learn both how to do work by hand, and how to use AI tools to scale our work. In today’s landscape, LLMs are exceptionally powerful, and can act as a “calculator for words”. However, it’s important to remember that LLMs are tools, not replacements for understanding.</p>
<p>Given the stochastic (unpredictable, non-deterministic) nature of LLMs, it’s important to learn how to work with them effectively as partners, rather than human replacements. It’s also important to learn how to do certain things by hand, such as calculating averages, making quick graphs, and selecting subsets of your data to analyze. If you’re reliant on LLMs to do every time step for you, you’ll take significantly longer to build models, and you’ll also be less likely to catch errors in your work. By learning to work <em>with</em> LLMs, instead of treating LLMs as a replacement for your own work, you’ll be able to build models more quickly and with greater accuracy.</p>
<hr>
</section>
</section>
<section id="ch1-1" class="level2">
<h2 class="anchored" data-anchor-id="ch1-1">1. Getting Started with AI Coding Assistants</h2>
<section id="why-use-ai-for-coding" class="level3">
<h3 class="anchored" data-anchor-id="why-use-ai-for-coding">1.1 Why Use AI for Coding?</h3>
<p>Imagine the following situation: You have a data set with five columns of data, one of which is a target variable you want to predict. For example, you might be trying to predict the price of a house based on its size, number of bedrooms, number of bathrooms, and location. You want to build a model to predict the price of a house based on these features. This data is small enough that you could do the EDA by hand, including: - Making graphs for each column - Calculating summary statistics - Checking for missing values - Checking for outliers - Checking for data quality issues</p>
<p>However, what if your data had three hundred columns? Now you move well beyond what you could do by hand, and what could be analyzed by a human. This is where AI coding assistants come in.</p>
<p>This is exactly how we’ll use LLMs in this class. We’ll first learn the topics by hand at a foundational level and a small scale. Then, we’ll learn how to effectively use AI to scale our work.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>AI won’t take your job. Someone who knows how to use AI more effectively than you do will take your job. Be that person.</p>
</div>
</div>
</section>
<section id="writing-effective-prompts" class="level3">
<h3 class="anchored" data-anchor-id="writing-effective-prompts">1.2 Writing Effective Prompts</h3>
<p>Learning to write good prompts is like learning to communicate clearly with a colleague. You wouldn’t walk up to a coworker and say “make graph” and expect them to know exactly what you want. The same goes for AI coding assistants.</p>
<p>Here are the key principles for effective prompting:</p>
<p><strong>1. Be specific about what you want</strong></p>
<p>Don’t just ask for “a visualization” when you know you want a histogram. Tell the AI exactly what type of output you’re looking for.</p>
<p><strong>2. Provide context</strong></p>
<p>Let the AI know what data you’re working with, what columns exist, and what you’re trying to accomplish. The more context you provide, the better the results.</p>
<p><strong>3. Start simple, then iterate</strong></p>
<p>Don’t try to get everything perfect in one prompt. Start with a basic request, see what you get, and refine from there. This is much faster than trying to write the “perfect” prompt.</p>
<p><strong>4. Specify the details that matter</strong></p>
<p>If you care about axis labels, titles, colors, or specific parameter values, say so. If you don’t specify, the AI will make assumptions that might not match what you need.</p>
<p>Let’s look at some examples. Here’s a poor prompt:</p>
<blockquote class="blockquote">
<p>“Make a graph of the data”</p>
</blockquote>
<p>What’s wrong with this? There’s no context about what data we’re working with, what type of graph we want, or what we’re trying to show. The AI has to guess everything.</p>
<p>Here’s a better prompt:</p>
<blockquote class="blockquote">
<p>“I’m working with a housing dataset that has columns for price, square_feet, bedrooms, and location. Create a histogram showing the distribution of house prices. Use 30 bins, add a title ‘Distribution of House Prices’, and label the x-axis as ‘Price ($)’ and y-axis as ‘Frequency’. I’m working in Python and using matplotlib for graphing.”</p>
</blockquote>
<p>See the difference? This prompt tells the AI:</p>
<ul>
<li>What data we have</li>
<li>What visualization we want (histogram)</li>
<li>What variable to plot (price)</li>
<li>Specific parameters (30 bins)</li>
<li>Formatting details (title, axis labels)</li>
</ul>
<p>Let’s see this in action. Here’s what you might get from that better prompt:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Assuming you have a DataFrame called 'housing_df'</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">6</span>))</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>plt.hist(housing_df[<span class="st">'price'</span>], bins<span class="op">=</span><span class="dv">30</span>, edgecolor<span class="op">=</span><span class="st">'black'</span>)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">'Distribution of House Prices'</span>)</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">'Price ($)'</span>)</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">'Frequency'</span>)</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>Notice that even with a good prompt, you might need to iterate. Maybe you look at this histogram and realize you want different bin sizes, or you want to add grid lines. That’s fine! Just refine your prompt: “Great, now add grid lines to make it easier to read the values.”</p>
<p>The key is that you’re building on what works, not starting from scratch each time. This iterative approach is exactly how you should work with AI assistants throughout this course.</p>
</section>
<section id="when-to-use-ai-vs.-coding-by-hand" class="level3">
<h3 class="anchored" data-anchor-id="when-to-use-ai-vs.-coding-by-hand">1.3 When to Use AI vs.&nbsp;Coding By Hand</h3>
<p>How do you decide when to use AI, and when to do things by hand? You should start by asking yourself the following question: “How well do I understand my data and the task I’m trying to accomplish?”</p>
<p>If you understand it deeply and know exactly what you want to accomplish, then AI can be a great tool. However, if you’re just starting to understand your data, and/or the task isn’t clear, you should be working by hand.</p>
<p>Because LLMs take time to generate code, and because they often don’t do quite what you had in mind, at the early stages you can spend more time modifying/re-prompting an LLM than you would if you were doing things by hand. You want a quick feedback loop between your brain and your screen. As soon as a question pops into your head (“I wonder what the relationship is between…”) you should be able to answer it quickly. Changing your focus to work with an LLM will likely take too long, potentially result in more errors, and take you away from the task at hand.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>As you become more comfortable with your data and the task at hand, you can start to use AI to scale your work. You can use AI to generate code for you, and then modify it to fit your needs. You can also use AI to generate code for you, and then modify it to fit your needs. When you look at your work and say “I know I’m on the right track, now I just need to do more”, then you should be using AI to scale your work.</p>
</div>
</div>
</section>
<section id="learning-outcomes" class="level3">
<h3 class="anchored" data-anchor-id="learning-outcomes">Learning outcomes:</h3>
<p><strong><em>By hand</em> you should be able to:</strong></p>
<ul>
<li>Write prompts that effectively describe what you want the LLM to accomplish.</li>
<li>Critique prompts as to whether or not they follow the suggestions outlined above.</li>
<li>Know when to use an LLM, and when to write code by hand.</li>
</ul>
<hr>
</section>
</section>
<section id="ch1-2" class="level2">
<h2 class="anchored" data-anchor-id="ch1-2">2. Data Manipulation with Pandas</h2>
<p>Pandas is the workhorse library for data manipulation in Python. If you’re going to be a data scientist, you need to know Pandas inside and out. The good news is that once you learn the basics, everything else follows a similar pattern.</p>
<section id="loading-data" class="level3">
<h3 class="anchored" data-anchor-id="loading-data">2.1 Loading Data</h3>
<p>Let’s start with the most basic task: loading data into Python. Most of the time, your data will be stored in a CSV (comma-separated values) file. Pandas makes this incredibly easy.</p>
<div id="2db17f9b" class="cell" data-execution_count="1">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Load the California housing dataset</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>housing_df <span class="op">=</span> pd.read_csv(<span class="st">'../data/housing.csv'</span>)</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Take a look at the first few rows</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>housing_df.head()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display" data-execution_count="1">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">longitude</th>
<th data-quarto-table-cell-role="th">latitude</th>
<th data-quarto-table-cell-role="th">housing_median_age</th>
<th data-quarto-table-cell-role="th">total_rooms</th>
<th data-quarto-table-cell-role="th">total_bedrooms</th>
<th data-quarto-table-cell-role="th">population</th>
<th data-quarto-table-cell-role="th">households</th>
<th data-quarto-table-cell-role="th">median_income</th>
<th data-quarto-table-cell-role="th">median_house_value</th>
<th data-quarto-table-cell-role="th">ocean_proximity</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<th data-quarto-table-cell-role="th">0</th>
<td>-122.23</td>
<td>37.88</td>
<td>41.0</td>
<td>880.0</td>
<td>129.0</td>
<td>322.0</td>
<td>126.0</td>
<td>8.3252</td>
<td>452600.0</td>
<td>NEAR BAY</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">1</th>
<td>-122.22</td>
<td>37.86</td>
<td>21.0</td>
<td>7099.0</td>
<td>1106.0</td>
<td>2401.0</td>
<td>1138.0</td>
<td>8.3014</td>
<td>358500.0</td>
<td>NEAR BAY</td>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">2</th>
<td>-122.24</td>
<td>37.85</td>
<td>52.0</td>
<td>1467.0</td>
<td>190.0</td>
<td>496.0</td>
<td>177.0</td>
<td>7.2574</td>
<td>352100.0</td>
<td>NEAR BAY</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">3</th>
<td>-122.25</td>
<td>37.85</td>
<td>52.0</td>
<td>1274.0</td>
<td>235.0</td>
<td>558.0</td>
<td>219.0</td>
<td>5.6431</td>
<td>341300.0</td>
<td>NEAR BAY</td>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">4</th>
<td>-122.25</td>
<td>37.85</td>
<td>52.0</td>
<td>1627.0</td>
<td>280.0</td>
<td>565.0</td>
<td>259.0</td>
<td>3.8462</td>
<td>342200.0</td>
<td>NEAR BAY</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>What’s happening here? We’re importing the pandas library (always abbreviated as <code>pd</code>), then using the <code>read_csv()</code> function to load our data. The result is a DataFrame, which you can think of as a table with rows and columns, similar to an Excel spreadsheet.</p>
<p>The <code>.head()</code> method shows us the first 5 rows. This is always a good first step when you load data—you want to see what you’re working with.</p>
<p>Now we can see our columns and get a sense of what the data looks like. This is California housing data with information about different districts. Notice that each row has an index (0, 1, 2, 3, 4) on the left side. Pandas automatically creates this for us.</p>
<p>Let’s explore our data a bit more:</p>
<div id="99725878" class="cell" data-execution_count="2">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># How many rows and columns do we have?</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f'df shape: </span><span class="sc">{</span>housing_df<span class="sc">.</span>shape<span class="sc">}</span><span class="ch">\n</span><span class="ss">'</span>)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="co"># What are the column names?</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f'df columns: </span><span class="sc">{</span>housing_df<span class="sc">.</span>columns<span class="sc">}</span><span class="ch">\n</span><span class="ss">'</span>)</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="co"># What data types are in each column?</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'df dtypes:'</span>)</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(housing_df.dtypes)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>df shape: (20640, 10)

df columns: Index(['longitude', 'latitude', 'housing_median_age', 'total_rooms',
       'total_bedrooms', 'population', 'households', 'median_income',
       'median_house_value', 'ocean_proximity'],
      dtype='object')

df dtypes:
longitude             float64
latitude              float64
housing_median_age    float64
total_rooms           float64
total_bedrooms        float64
population            float64
households            float64
median_income         float64
median_house_value    float64
ocean_proximity        object
dtype: object</code></pre>
</div>
</div>
<p>The <code>.shape</code> attribute tells us the dimensions of our DataFrame. The <code>.columns</code> attribute gives us the column names. And <code>.dtypes</code> tells us what type of data is in each column (integers, floating point numbers, strings, etc.).</p>
<p>Why do we care about data types? Because you can’t calculate the average of text data, and you can’t use numbers as categories. Making sure your data types are correct is a crucial early step in any analysis. Even things that <em>seem</em> like numbers may not be. For example, suppose that we had a row in our housing data which looked like this:</p>
<pre><code>median_house_value  total_rooms  ...
Unknown             1500.0       ...</code></pre>
<p>If we try to calculate the average house value, we’ll get an error:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>housing_df[<span class="st">'median_house_value'</span>].mean()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>because the <code>median_house_value</code> column isn’t numerical (it has a string value in it).</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>You should always start by looking at your data using <code>df.head()</code>! This will help you catch any data type issues early. Following up with basic data checks (column names, data types, etc.) is also best practices.</p>
</div>
</div>
</section>
<section id="selecting-and-filtering-data" class="level3">
<h3 class="anchored" data-anchor-id="selecting-and-filtering-data">2.2 Selecting and Filtering Data</h3>
<p>Now that we have data loaded, we need to know how to slice it up and look at specific parts. This is where Pandas really shines.</p>
<p><strong>Selecting columns:</strong></p>
<div id="b8d36e63" class="cell" data-execution_count="3">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Select a single column (returns a Series)</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>house_values <span class="op">=</span> housing_df[<span class="st">'median_house_value'</span>]</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Select multiple columns</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>multiple_cols <span class="op">=</span> [<span class="st">'median_house_value'</span>, <span class="st">'ocean_proximity'</span>]</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Select multiple columns (returns a DataFrame)</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>value_and_location <span class="op">=</span> housing_df[multiple_cols]</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>Notice that, when selecting multiple columns, you should enclose them in a list, like <code>['median_house_value', 'ocean_proximity']</code>. Here we did this in two steps: 1) Write down the columns we want, 2) Extract them from the data. However, there’s no reason you can’t do them in a single step:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>value_and_location <span class="op">=</span> housing_df[</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>    [<span class="st">'median_house_value'</span>, </span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">'ocean_proximity'</span>]]</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>Sometimes this can be confusing, because people think that double brackets <code>[['median_house_value', 'ocean_proximity']]</code> are some kind of special syntax. They’re not. They’re just a list of column names.</p>
<p><strong>Filtering rows:</strong></p>
<p>Here’s where things get really useful. Let’s say we only want to look at districts near the bay. We’ll break this out into multiple steps, and then show how to combine it in a single step.</p>
<div id="81e46042" class="cell" data-execution_count="4">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Check if each row is near the bay by creating a "mask"</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>near_bay_mask <span class="op">=</span> housing_df[<span class="st">'ocean_proximity'</span>] <span class="op">==</span> <span class="st">'NEAR BAY'</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Output: [True, True, True, True, True, False, False, ...]</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Use this "mask" to filter the DataFrame</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>near_bay_districts <span class="op">=</span> housing_df[near_bay_mask]</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>near_bay_districts.head()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display" data-execution_count="4">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">longitude</th>
<th data-quarto-table-cell-role="th">latitude</th>
<th data-quarto-table-cell-role="th">housing_median_age</th>
<th data-quarto-table-cell-role="th">total_rooms</th>
<th data-quarto-table-cell-role="th">total_bedrooms</th>
<th data-quarto-table-cell-role="th">population</th>
<th data-quarto-table-cell-role="th">households</th>
<th data-quarto-table-cell-role="th">median_income</th>
<th data-quarto-table-cell-role="th">median_house_value</th>
<th data-quarto-table-cell-role="th">ocean_proximity</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<th data-quarto-table-cell-role="th">0</th>
<td>-122.23</td>
<td>37.88</td>
<td>41.0</td>
<td>880.0</td>
<td>129.0</td>
<td>322.0</td>
<td>126.0</td>
<td>8.3252</td>
<td>452600.0</td>
<td>NEAR BAY</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">1</th>
<td>-122.22</td>
<td>37.86</td>
<td>21.0</td>
<td>7099.0</td>
<td>1106.0</td>
<td>2401.0</td>
<td>1138.0</td>
<td>8.3014</td>
<td>358500.0</td>
<td>NEAR BAY</td>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">2</th>
<td>-122.24</td>
<td>37.85</td>
<td>52.0</td>
<td>1467.0</td>
<td>190.0</td>
<td>496.0</td>
<td>177.0</td>
<td>7.2574</td>
<td>352100.0</td>
<td>NEAR BAY</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">3</th>
<td>-122.25</td>
<td>37.85</td>
<td>52.0</td>
<td>1274.0</td>
<td>235.0</td>
<td>558.0</td>
<td>219.0</td>
<td>5.6431</td>
<td>341300.0</td>
<td>NEAR BAY</td>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">4</th>
<td>-122.25</td>
<td>37.85</td>
<td>52.0</td>
<td>1627.0</td>
<td>280.0</td>
<td>565.0</td>
<td>259.0</td>
<td>3.8462</td>
<td>342200.0</td>
<td>NEAR BAY</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>What’s going on here? The expression <code>housing_df['ocean_proximity'] == 'NEAR BAY'</code> creates a True/False (boolean) value for each row—True if the district is near the bay, False otherwise. Then we use that boolean mask to filter the DataFrame.</p>
<p>Here we split it out into two steps, where we first created the mask <code>near_bay_mask = housing_df['ocean_proximity'] == 'NEAR BAY'</code>, and then used that mask to filter the DataFrame <code>housing_df[near_bay_mask]</code>. This is a common pattern when filtering data. However, you can also write this in just one step:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>near_bay_districts <span class="op">=</span> housing_df[housing_df[<span class="st">'ocean_proximity'</span>] <span class="op">==</span> <span class="st">'NEAR BAY'</span>]</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>Once again, people sometimes find this confusing because of the <code>housing_df</code> inside the outer <code>housing_df</code>. However, as we’ve seen, all that’s going on is two steps: 1) Create a mask to select what you want (e.g.&nbsp;districts near the bay), 2) Use that mask to filter the DataFrame.</p>
<p>Let’s try some more complex filters:</p>
<div id="71319941" class="cell" data-execution_count="5">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Districts with more than 1000 total rooms</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>large_districts <span class="op">=</span> housing_df[housing_df[<span class="st">'total_rooms'</span>] <span class="op">&gt;</span> <span class="dv">1000</span>]</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Districts that are both near the bay AND have expensive houses (&gt; $400,000)</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>expensive_bay_area <span class="op">=</span> housing_df[(housing_df[<span class="st">'ocean_proximity'</span>] <span class="op">==</span> <span class="st">'NEAR BAY'</span>) <span class="op">&amp;</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>                                 (housing_df[<span class="st">'median_house_value'</span>] <span class="op">&gt;</span> <span class="dv">400000</span>)]</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Districts that are either very cheap OR very expensive</span></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>extreme_values <span class="op">=</span> housing_df[(housing_df[<span class="st">'median_house_value'</span>] <span class="op">&lt;</span> <span class="dv">150000</span>) <span class="op">|</span></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>                             (housing_df[<span class="st">'median_house_value'</span>] <span class="op">&gt;</span> <span class="dv">400000</span>)]</span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>expensive_bay_area.head()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display" data-execution_count="5">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">longitude</th>
<th data-quarto-table-cell-role="th">latitude</th>
<th data-quarto-table-cell-role="th">housing_median_age</th>
<th data-quarto-table-cell-role="th">total_rooms</th>
<th data-quarto-table-cell-role="th">total_bedrooms</th>
<th data-quarto-table-cell-role="th">population</th>
<th data-quarto-table-cell-role="th">households</th>
<th data-quarto-table-cell-role="th">median_income</th>
<th data-quarto-table-cell-role="th">median_house_value</th>
<th data-quarto-table-cell-role="th">ocean_proximity</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<th data-quarto-table-cell-role="th">0</th>
<td>-122.23</td>
<td>37.88</td>
<td>41.0</td>
<td>880.0</td>
<td>129.0</td>
<td>322.0</td>
<td>126.0</td>
<td>8.3252</td>
<td>452600.0</td>
<td>NEAR BAY</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">89</th>
<td>-122.27</td>
<td>37.80</td>
<td>52.0</td>
<td>249.0</td>
<td>78.0</td>
<td>396.0</td>
<td>85.0</td>
<td>1.2434</td>
<td>500001.0</td>
<td>NEAR BAY</td>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">128</th>
<td>-122.21</td>
<td>37.83</td>
<td>40.0</td>
<td>4991.0</td>
<td>674.0</td>
<td>1616.0</td>
<td>654.0</td>
<td>7.5544</td>
<td>411500.0</td>
<td>NEAR BAY</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">140</th>
<td>-122.18</td>
<td>37.81</td>
<td>30.0</td>
<td>292.0</td>
<td>38.0</td>
<td>126.0</td>
<td>52.0</td>
<td>6.3624</td>
<td>483300.0</td>
<td>NEAR BAY</td>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">155</th>
<td>-122.23</td>
<td>37.81</td>
<td>52.0</td>
<td>2315.0</td>
<td>292.0</td>
<td>861.0</td>
<td>258.0</td>
<td>8.8793</td>
<td>410300.0</td>
<td>NEAR BAY</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>Notice a few things: - We use <code>&amp;</code> for “and” and <code>|</code> for “or” - We need parentheses around each condition when combining them - The comparison operators (<code>&gt;</code>, <code>&lt;</code>, <code>==</code>) work just like you’d expect</p>
<p>Here’s a practical example. Let’s say you’re analyzing housing affordability and you want to find all inland districts with median incomes above 5 and median house values under $300,000:</p>
<div id="6f68a577" class="cell" data-execution_count="6">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Your target districts</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>affordable_inland <span class="op">=</span> housing_df[(housing_df[<span class="st">'ocean_proximity'</span>] <span class="op">==</span> <span class="st">'INLAND'</span>) <span class="op">&amp;</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>                               (housing_df[<span class="st">'median_income'</span>] <span class="op">&gt;</span> <span class="dv">5</span>) <span class="op">&amp;</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>                               (housing_df[<span class="st">'median_house_value'</span>] <span class="op">&lt;</span> <span class="dv">300000</span>)]</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Found </span><span class="sc">{</span><span class="bu">len</span>(affordable_inland)<span class="sc">}</span><span class="ss"> districts matching criteria"</span>)</span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>affordable_inland.head()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>Found 534 districts matching criteria</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="6">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">longitude</th>
<th data-quarto-table-cell-role="th">latitude</th>
<th data-quarto-table-cell-role="th">housing_median_age</th>
<th data-quarto-table-cell-role="th">total_rooms</th>
<th data-quarto-table-cell-role="th">total_bedrooms</th>
<th data-quarto-table-cell-role="th">population</th>
<th data-quarto-table-cell-role="th">households</th>
<th data-quarto-table-cell-role="th">median_income</th>
<th data-quarto-table-cell-role="th">median_house_value</th>
<th data-quarto-table-cell-role="th">ocean_proximity</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<th data-quarto-table-cell-role="th">968</th>
<td>-121.88</td>
<td>37.67</td>
<td>25.0</td>
<td>2244.0</td>
<td>301.0</td>
<td>937.0</td>
<td>324.0</td>
<td>6.4524</td>
<td>296900.0</td>
<td>INLAND</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">969</th>
<td>-121.89</td>
<td>37.67</td>
<td>20.0</td>
<td>2948.0</td>
<td>471.0</td>
<td>1181.0</td>
<td>474.0</td>
<td>6.0604</td>
<td>247900.0</td>
<td>INLAND</td>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">975</th>
<td>-121.87</td>
<td>37.66</td>
<td>52.0</td>
<td>775.0</td>
<td>134.0</td>
<td>315.0</td>
<td>123.0</td>
<td>5.0677</td>
<td>233300.0</td>
<td>INLAND</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">979</th>
<td>-121.87</td>
<td>37.67</td>
<td>10.0</td>
<td>4337.0</td>
<td>800.0</td>
<td>1813.0</td>
<td>743.0</td>
<td>5.5000</td>
<td>247200.0</td>
<td>INLAND</td>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">981</th>
<td>-121.85</td>
<td>37.68</td>
<td>4.0</td>
<td>4719.0</td>
<td>741.0</td>
<td>1895.0</td>
<td>742.0</td>
<td>6.8132</td>
<td>282500.0</td>
<td>INLAND</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>This kind of filtering is something you’ll do constantly in data science. You’ll often want to analyze specific subsets of your data to understand patterns.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>Breaking complex queries, such as the affordable inland districts example above, into smaller steps can make it easier to understand and debug. Compare the query above with the same query written on a single line:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>affordable_inland <span class="op">=</span> housing_df[(housing_df[<span class="st">'ocean_proximity'</span>] <span class="op">==</span> <span class="st">'INLAND'</span>) <span class="op">&amp;</span> (housing_df[<span class="st">'median_income'</span>] <span class="op">&gt;</span> <span class="dv">5</span>) <span class="op">&amp;</span> (housing_df[<span class="st">'median_house_value'</span>] <span class="op">&lt;</span> <span class="dv">300000</span>)]</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>This is much more difficult to read and debug!</p>
</div>
</div>
</section>
<section id="data-cleaning-basics" class="level3">
<h3 class="anchored" data-anchor-id="data-cleaning-basics">2.3 Data Cleaning Basics</h3>
<p>Real-world data is messy. You’ll have missing values, duplicates, wrong data types—all sorts of problems. Let’s learn how to spot and fix them.</p>
<p><strong>Checking for missing values:</strong></p>
<div id="34c94ea8" class="cell" data-execution_count="7">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># How many missing values in each column?</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>housing_df.isnull().<span class="bu">sum</span>()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display" data-execution_count="7">
<pre><code>longitude               0
latitude                0
housing_median_age      0
total_rooms             0
total_bedrooms        207
population              0
households              0
median_income           0
median_house_value      0
ocean_proximity         0
dtype: int64</code></pre>
</div>
</div>
<p>In this command, <code>housing_df.isnull()</code> is returning <code>True</code>/<code>False</code> for each value in the DataFrame. Then we use <code>.sum()</code> to count up the number of <code>True</code> values in each column.</p>
<p>So we have 207 missing values in the <code>total_bedrooms</code> column. What do we do about this?</p>
<p><strong>Option 1: Drop rows with missing values</strong></p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Drop any row that has at least one missing value</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>housing_clean <span class="op">=</span> housing_df.dropna()</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Drop only rows where a specific column (total_bedrooms) is missing a value</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a><span class="co"># This is useful if this column is extremely important, and your analysis wouldn't make sense without it</span></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>housing_clean <span class="op">=</span> housing_df.dropna(subset<span class="op">=</span>[<span class="st">'total_bedrooms'</span>])</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Warning
</div>
</div>
<div class="callout-body-container callout-body">
<p>Be careful with this approach! If you have many columns and missing values are scattered throughout, you might end up dropping most of your data. This is especially true if you’re working with data with lots of columns and/or columns which aren’t especially important. For example, a store may have a rewards number column. However, not all customers are reward customers. If we dropped all rows with any missing value, then all non-rewards customers would disappear from our data!</p>
</div>
</div>
<p><strong>Option 2: Fill missing values</strong></p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Fill with a specific value (e.g. zero)</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>housing_df[<span class="st">'total_bedrooms'</span>] <span class="op">=</span> housing_df[<span class="st">'total_bedrooms'</span>].fillna(<span class="dv">0</span>)</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Fill missing values with the median (for numeric columns)</span></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>median_bedrooms <span class="op">=</span> housing_df[<span class="st">'total_bedrooms'</span>].median()</span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>housing_df[<span class="st">'total_bedrooms'</span>] <span class="op">=</span> housing_df[<span class="st">'total_bedrooms'</span>].fillna(median_bedrooms)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>Which approach should you use? It depends on your data and your analysis. If you have lots of data and relatively few missing values, dropping might be fine. If missing values are common, you’ll need to fill them thoughtfully.</p>
<div class="{callout-warning}">
<p>Be careful with filling missing values! Sometimes a missing value is a signal that something is wrong. For example, if a house is missing a price, it might be because it’s not for sale. Or it may indicate something, such as a lack of sale price meaning the home wasn’t sold. When you fill missing values with other values, you are making assumptions about the data that may not be true and run the risk of corrupting your data.</p>
</div>
<p><strong>Checking for duplicates:</strong></p>
<p>We can check for duplicates using the <code>.duplicated()</code> method. As with other methods we’ve seen today, it returns <code>True</code>/<code>False</code> values according to whether the row is a duplicate or not. By using <code>.sum()</code> we add up (i.e.&nbsp;count) the number of duplicate rows.</p>
<div id="8015bacc" class="cell" data-execution_count="8">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Are there any duplicate rows?</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f'Duplicates: </span><span class="sc">{</span>housing_df<span class="sc">.</span>duplicated()<span class="sc">.</span><span class="bu">sum</span>()<span class="sc">}</span><span class="ss">'</span>)</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove duplicates</span></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>housing_clean <span class="op">=</span> housing_df.drop_duplicates()</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove duplicates based on specific columns</span></span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a><span class="co"># (e.g., if you only care about unique combinations of location and ocean proximity)</span></span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>housing_unique <span class="op">=</span> housing_df.drop_duplicates(subset<span class="op">=</span>[<span class="st">'longitude'</span>, <span class="st">'latitude'</span>, <span class="st">'ocean_proximity'</span>])</span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f'Duplicates after removing: </span><span class="sc">{</span>housing_unique<span class="sc">.</span>duplicated()<span class="sc">.</span><span class="bu">sum</span>()<span class="sc">}</span><span class="ss">'</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>Duplicates: 0
Duplicates after removing: 0</code></pre>
</div>
</div>
<div class="{callout-warning}">
<p>Duplicates aren’t necessarily bad! If I’m a customer at a store and I return multiple times in the same day, depending on the info the store saves above me (e.g.&nbsp;name, date of visit), this may look like a duplicate, when it was really just me shopping multiple times.</p>
</div>
<p><strong>Fixing data types:</strong></p>
<p>Sometimes Pandas doesn’t guess the right data type when loading your data. For example, a column of numbers might be loaded as strings:</p>
<div id="614be9ea" class="cell" data-execution_count="9">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Check current data type</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(housing_df[<span class="st">'median_house_value'</span>].dtype)  <span class="co"># Shows float64</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert a column to categorical (useful for columns with few unique values)</span></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>housing_df[<span class="st">'ocean_proximity'</span>] <span class="op">=</span> housing_df[<span class="st">'ocean_proximity'</span>].astype(<span class="st">'category'</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>float64</code></pre>
</div>
</div>
<p><strong>Sample data cleaning workflow:</strong></p>
<p>Here’s a complete example of a basic data cleaning workflow:</p>
<div id="ced80e23" class="cell" data-execution_count="10">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Load the data</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>housing_df <span class="op">=</span> pd.read_csv(<span class="st">'../data/housing.csv'</span>)</span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Check for issues</span></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Shape:"</span>, housing_df.shape)</span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">Missing values:"</span>)</span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(housing_df.isnull().<span class="bu">sum</span>())</span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">Duplicates:"</span>, housing_df.duplicated().<span class="bu">sum</span>())</span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">Data types:"</span>)</span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(housing_df.dtypes)</span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-14"><a href="#cb23-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Clean the data</span></span>
<span id="cb23-15"><a href="#cb23-15" aria-hidden="true" tabindex="-1"></a>housing_clean <span class="op">=</span> housing_df.copy()  <span class="co"># Make a copy so we don't modify the original</span></span>
<span id="cb23-16"><a href="#cb23-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-17"><a href="#cb23-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove duplicates (if any)</span></span>
<span id="cb23-18"><a href="#cb23-18" aria-hidden="true" tabindex="-1"></a>housing_clean <span class="op">=</span> housing_clean.drop_duplicates()</span>
<span id="cb23-19"><a href="#cb23-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-20"><a href="#cb23-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Fill missing total_bedrooms with the median</span></span>
<span id="cb23-21"><a href="#cb23-21" aria-hidden="true" tabindex="-1"></a>median_bedrooms <span class="op">=</span> housing_clean[<span class="st">'total_bedrooms'</span>].median()</span>
<span id="cb23-22"><a href="#cb23-22" aria-hidden="true" tabindex="-1"></a>housing_clean[<span class="st">'total_bedrooms'</span>] <span class="op">=</span> housing_clean[<span class="st">'total_bedrooms'</span>].fillna(median_bedrooms)</span>
<span id="cb23-23"><a href="#cb23-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-24"><a href="#cb23-24" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert ocean_proximity to categorical</span></span>
<span id="cb23-25"><a href="#cb23-25" aria-hidden="true" tabindex="-1"></a>housing_clean[<span class="st">'ocean_proximity'</span>] <span class="op">=</span> housing_clean[<span class="st">'ocean_proximity'</span>].astype(<span class="st">'category'</span>)</span>
<span id="cb23-26"><a href="#cb23-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-27"><a href="#cb23-27" aria-hidden="true" tabindex="-1"></a><span class="co"># Verify the cleaning worked</span></span>
<span id="cb23-28"><a href="#cb23-28" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">After cleaning:"</span>)</span>
<span id="cb23-29"><a href="#cb23-29" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Shape:"</span>, housing_clean.shape)</span>
<span id="cb23-30"><a href="#cb23-30" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Missing values:"</span>, housing_clean.isnull().<span class="bu">sum</span>().<span class="bu">sum</span>())</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>Shape: (20640, 10)

Missing values:
longitude               0
latitude                0
housing_median_age      0
total_rooms             0
total_bedrooms        207
population              0
households              0
median_income           0
median_house_value      0
ocean_proximity         0
dtype: int64

Duplicates: 0

Data types:
longitude             float64
latitude              float64
housing_median_age    float64
total_rooms           float64
total_bedrooms        float64
population            float64
households            float64
median_income         float64
median_house_value    float64
ocean_proximity        object
dtype: object

After cleaning:
Shape: (20640, 10)
Missing values: 0</code></pre>
</div>
</div>
<p>This workflow checks for issues, fixes them, and verifies the fixes worked. You’ll use patterns like this constantly in your EDA work.</p>
<p>The key takeaway: always inspect your data before you analyze it. You need to know what you’re working with, spot problems early, and fix them before they cause issues down the line. Don’t just assume your data is clean—check!</p>
</section>
<section id="learning-outcomes-1" class="level3">
<h3 class="anchored" data-anchor-id="learning-outcomes-1">Learning outcomes:</h3>
<p><strong><em>By hand</em> you should be able to:</strong></p>
<ul>
<li>Load data using <code>df = pd.read_csv(...)</code></li>
<li>Use <code>.head()</code> and <code>.tail()</code> to inspect your data.</li>
<li>List the columns in the data</li>
<li>List the data types and understand common types (e.g.&nbsp;int, object, float, bool)</li>
<li>Select one or more columns</li>
<li>Filter rows using criteria (e.g.&nbsp;city == “Houston”, age &gt; 25, etc.)</li>
<li>Filter rows use “and” (<code>&amp;</code>) and “or” (<code>|</code>)</li>
<li>Count the number of missing values using <code>.isnull()</code> and <code>.sum()</code></li>
<li>Drop rows with missing values, including dropping rows where only a certain column is missing values</li>
<li>Fill missing values with a fixed number (e.g.&nbsp;zero) or a calculated value (e.g.&nbsp;the mean value from the column)</li>
<li>Change data types</li>
</ul>
<hr>
</section>
</section>
<section id="ch1-3" class="level2">
<h2 class="anchored" data-anchor-id="ch1-3">3. Statistical Summaries and Data Profiling</h2>
<p>Once your data is loaded and cleaned, the next step is understanding what it contains. You need to know the typical values, the spread of the data, and whether there are any weird patterns. This is where statistical summaries come in.</p>
<section id="descriptive-statistics" class="level3">
<h3 class="anchored" data-anchor-id="descriptive-statistics">3.1 Descriptive Statistics</h3>
<p>Pandas makes it incredibly easy to get summary statistics for your data. Let’s start with the simplest approach:</p>
<div id="841b717c" class="cell" data-execution_count="11">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Get summary statistics for all numeric columns</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>housing_df.describe()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display" data-execution_count="11">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">longitude</th>
<th data-quarto-table-cell-role="th">latitude</th>
<th data-quarto-table-cell-role="th">housing_median_age</th>
<th data-quarto-table-cell-role="th">total_rooms</th>
<th data-quarto-table-cell-role="th">total_bedrooms</th>
<th data-quarto-table-cell-role="th">population</th>
<th data-quarto-table-cell-role="th">households</th>
<th data-quarto-table-cell-role="th">median_income</th>
<th data-quarto-table-cell-role="th">median_house_value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<th data-quarto-table-cell-role="th">count</th>
<td>20640.000000</td>
<td>20640.000000</td>
<td>20640.000000</td>
<td>20640.000000</td>
<td>20433.000000</td>
<td>20640.000000</td>
<td>20640.000000</td>
<td>20640.000000</td>
<td>20640.000000</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">mean</th>
<td>-119.569704</td>
<td>35.631861</td>
<td>28.639486</td>
<td>2635.763081</td>
<td>537.870553</td>
<td>1425.476744</td>
<td>499.539680</td>
<td>3.870671</td>
<td>206855.816909</td>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">std</th>
<td>2.003532</td>
<td>2.135952</td>
<td>12.585558</td>
<td>2181.615252</td>
<td>421.385070</td>
<td>1132.462122</td>
<td>382.329753</td>
<td>1.899822</td>
<td>115395.615874</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">min</th>
<td>-124.350000</td>
<td>32.540000</td>
<td>1.000000</td>
<td>2.000000</td>
<td>1.000000</td>
<td>3.000000</td>
<td>1.000000</td>
<td>0.499900</td>
<td>14999.000000</td>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">25%</th>
<td>-121.800000</td>
<td>33.930000</td>
<td>18.000000</td>
<td>1447.750000</td>
<td>296.000000</td>
<td>787.000000</td>
<td>280.000000</td>
<td>2.563400</td>
<td>119600.000000</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">50%</th>
<td>-118.490000</td>
<td>34.260000</td>
<td>29.000000</td>
<td>2127.000000</td>
<td>435.000000</td>
<td>1166.000000</td>
<td>409.000000</td>
<td>3.534800</td>
<td>179700.000000</td>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">75%</th>
<td>-118.010000</td>
<td>37.710000</td>
<td>37.000000</td>
<td>3148.000000</td>
<td>647.000000</td>
<td>1725.000000</td>
<td>605.000000</td>
<td>4.743250</td>
<td>264725.000000</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">max</th>
<td>-114.310000</td>
<td>41.950000</td>
<td>52.000000</td>
<td>39320.000000</td>
<td>6445.000000</td>
<td>35682.000000</td>
<td>6082.000000</td>
<td>15.000100</td>
<td>500001.000000</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>What is all this telling us? Let’s break it down row by row:</p>
<ul>
<li><strong>count</strong>: How many non-missing values exist</li>
<li><strong>mean</strong>: The average value</li>
<li><strong>std</strong>: Standard deviation (how spread out the values are)</li>
<li><strong>min</strong>: The smallest value</li>
<li><strong>25%</strong>: The 25th percentile (25% of values are below this)</li>
<li><strong>50%</strong>: The median (middle value when sorted)</li>
<li><strong>75%</strong>: The 75th percentile (75% of values are below this)</li>
<li><strong>max</strong>: The largest value</li>
</ul>
<p>But what do these numbers actually mean for our housing data? Let’s interpret:</p>
<p>The median house value is about $206,856 on average, with a standard deviation of $115,396. That’s a pretty big spread—prices vary a lot across California! The median (50th percentile) is $179,700, which is lower than the mean. What does that tell us? It suggests the distribution might be right-skewed, meaning there are some very expensive districts pulling the average up.</p>
<p>For total rooms, the typical district has around 2,636 rooms, with most districts falling between 1,448 and 3,148 rooms (the 25th to 75th percentile range). But look at that max value: 39,320 rooms! That’s a huge outlier that we might want to investigate.</p>
<p>Sometimes you want statistics for a single column:</p>
<div id="9540dd55" class="cell" data-execution_count="12">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Mean of a specific column</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>avg_value <span class="op">=</span> housing_df[<span class="st">'median_house_value'</span>].mean()</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Average house value: $</span><span class="sc">{</span>avg_value<span class="sc">:,.0f}</span><span class="ss">"</span>)</span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Median</span></span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>median_value <span class="op">=</span> housing_df[<span class="st">'median_house_value'</span>].median()</span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Median house value: $</span><span class="sc">{</span>median_value<span class="sc">:,.0f}</span><span class="ss">"</span>)</span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Standard deviation</span></span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a>value_std <span class="op">=</span> housing_df[<span class="st">'median_house_value'</span>].std()</span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"House value standard deviation: $</span><span class="sc">{</span>value_std<span class="sc">:,.0f}</span><span class="ss">"</span>)</span>
<span id="cb26-12"><a href="#cb26-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-13"><a href="#cb26-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Specific percentiles</span></span>
<span id="cb26-14"><a href="#cb26-14" aria-hidden="true" tabindex="-1"></a>percentile_90 <span class="op">=</span> housing_df[<span class="st">'median_house_value'</span>].quantile(<span class="fl">0.90</span>)</span>
<span id="cb26-15"><a href="#cb26-15" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"90th percentile: $</span><span class="sc">{</span>percentile_90<span class="sc">:,.0f}</span><span class="ss">"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>Average house value: $206,856
Median house value: $179,700
House value standard deviation: $115,396
90th percentile: $376,600</code></pre>
</div>
</div>
<p>Why would you care about the median vs.&nbsp;the mean? The median is more robust to outliers. If you have one very expensive district in an area of typical districts, the mean will be pulled way up, but the median will stay reasonable. When you’re trying to understand “typical” values, the median is often more useful.</p>
<p>Here’s a practical example. Let’s say you want to understand house values in different proximity to the ocean:</p>
<div id="7a337dec" class="cell" data-execution_count="13">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb28"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Average value by ocean proximity</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>value_by_proximity <span class="op">=</span> housing_df.groupby(<span class="st">'ocean_proximity'</span>)[<span class="st">'median_house_value'</span>].agg([<span class="st">'mean'</span>, <span class="st">'median'</span>, <span class="st">'count'</span>])</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(value_by_proximity)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>                          mean    median  count
ocean_proximity                                
&lt;1H OCEAN        240084.285464  214850.0   9136
INLAND           124805.392001  108500.0   6551
ISLAND           380440.000000  414700.0      5
NEAR BAY         259212.311790  233800.0   2290
NEAR OCEAN       249433.977427  229450.0   2658</code></pre>
</div>
</div>
<p>Now we’re getting somewhere! Districts near the ocean (especially islands!) are significantly more expensive on average. This kind of breakdown is crucial for understanding your data—overall statistics can hide important patterns in subgroups.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>Pandas can automatically do this (and more) for you with the <code>.describe()</code> method. Try running <code>housing_df.describe()</code> on your data and see what it gives you.</p>
</div>
</div>
</section>
<section id="outliers" class="level3">
<h3 class="anchored" data-anchor-id="outliers">3.2 Outliers</h3>
<p>Outliers are another important aspect of understanding your data. These are values that are far from the typical range. The typical way to identify outliers is to find data that is in the top and bottom 1% of the data.</p>
<div id="f4189c7a" class="cell" data-execution_count="14">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb30"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Find the 1st and 99th percentiles</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>bottom_1_percent <span class="op">=</span> housing_df[<span class="st">'median_house_value'</span>].quantile(<span class="fl">0.01</span>)</span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>top_1_percent <span class="op">=</span> housing_df[<span class="st">'median_house_value'</span>].quantile(<span class="fl">0.99</span>)</span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Bottom 1%: $</span><span class="sc">{</span>bottom_1_percent<span class="sc">:,.0f}</span><span class="ss">"</span>)</span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Top 1%: $</span><span class="sc">{</span>top_1_percent<span class="sc">:,.0f}</span><span class="ss">"</span>)</span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Find potential outliers</span></span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a>outliers <span class="op">=</span> housing_df[(housing_df[<span class="st">'median_house_value'</span>] <span class="op">&lt;</span> bottom_1_percent) <span class="op">|</span></span>
<span id="cb30-10"><a href="#cb30-10" aria-hidden="true" tabindex="-1"></a>                       (housing_df[<span class="st">'median_house_value'</span>] <span class="op">&gt;</span> top_1_percent)]</span>
<span id="cb30-11"><a href="#cb30-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-12"><a href="#cb30-12" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"</span><span class="ch">\n</span><span class="ss">Found </span><span class="sc">{</span><span class="bu">len</span>(outliers)<span class="sc">}</span><span class="ss"> potential outliers</span><span class="ch">\n</span><span class="ss">"</span>)</span>
<span id="cb30-13"><a href="#cb30-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-14"><a href="#cb30-14" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(outliers[[<span class="st">'median_house_value'</span>, <span class="st">'ocean_proximity'</span>, <span class="st">'median_income'</span>]].head())</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>Bottom 1%: $50,000
Top 1%: $500,001

Found 199 potential outliers

      median_house_value ocean_proximity  median_income
1175             42500.0          INLAND         0.8252
1176             45100.0          INLAND         1.0585
1177             39400.0          INLAND         1.3289
1181             41800.0          INLAND         2.2045
1188             49000.0          INLAND         1.7727</code></pre>
</div>
</div>
<p>There’s nothing particular about the top and bottom 1%. You could certainly look at the top and bottom 1%, or 2%, or 5%, or 10%, or any other percentage you want. The key is to look at the data and see if it makes sense. Primarily what you’re looking for is data that doesn’t make sense. If a district has very high house values, that could be totally reasonable, and of course there will always be <em>some</em> data in the top/bottom 1%. The problem is when those values don’t make sense. For example, if house values are shown as negative, that’s not real. You need to investigate before deciding what to do. Similarly, if values are impossibly high, that also doesn’t make sense.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>Should you remove outliers? Not automatically! They might be legitimate data (yes, some houses really are that expensive), or they might be errors (someone entered $5,000,000 instead of $500,000). You need to investigate before deciding what to do. Often this is a judgement call, more than a clear-cut decision.</p>
</div>
</div>
</section>
<section id="ch1-3-outcomes" class="level3">
<h3 class="anchored" data-anchor-id="ch1-3-outcomes">Learning outcomes:</h3>
<p><strong><em>By hand</em> you should be able to:</strong></p>
<ul>
<li>Use <code>.describe()</code></li>
<li>Calculate the mean, median, standard deviation and percentiles from a column</li>
<li>Use <code>.quantile()</code> to find potential outliers on the high and low end</li>
</ul>
<hr>
</section>
</section>
<section id="ch1-4" class="level2">
<h2 class="anchored" data-anchor-id="ch1-4">4. Data Visualization Principles</h2>
<p>Numbers and summary statistics are useful, but humans are visual creatures. A good visualization can reveal patterns that would take hours to find in tables of numbers. But here’s the thing: not all visualizations are created equal. You need to match the right type of plot to the question you’re asking.</p>
<section id="ch1-4-1" class="level3">
<h3 class="anchored" data-anchor-id="ch1-4-1">4.1 Choosing the Right Visualization</h3>
<p>The type of visualization you choose depends on what you’re trying to show. Here are the most common scenarios:</p>
<p><strong>Want to see the distribution of a single variable?</strong> Use a histogram or box plot.</p>
<p><strong>Want to see the relationship between two numeric variables?</strong> Use a scatter plot.</p>
<p><strong>Want to compare values across categories?</strong> Use a bar plot.</p>
<p><strong>Want to see how something changes over time?</strong> Use a line plot.</p>
<p>Let’s break these down with examples.</p>
<section id="ch1-4-1-1" class="level4">
<h4 class="anchored" data-anchor-id="ch1-4-1-1">4.1.1 Histograms</h4>
<p>Histograms show you how data is distributed. They’re perfect for answering questions like “Are house values normally distributed?” or “How many districts fall into different value ranges?”</p>
<div id="150a55ac" class="cell" data-execution_count="15">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb32"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a histogram of median house values</span></span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">6</span>))</span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>sns.histplot(data<span class="op">=</span>housing_df, x<span class="op">=</span><span class="st">'median_house_value'</span>, bins<span class="op">=</span><span class="dv">30</span>)</span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">'Distribution of Median House Values'</span>)</span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">'Median House Value ($)'</span>)</span>
<span id="cb32-9"><a href="#cb32-9" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">'Count'</span>)</span>
<span id="cb32-10"><a href="#cb32-10" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="chapter-1-eda_files/figure-html/cell-16-output-1.png" width="825" height="523" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<p>This shows you the shape of your data. Is it symmetric? Skewed? Are there outliers? All of this becomes immediately visible.</p>
</section>
<section id="ch1-4-1-2" class="level4">
<h4 class="anchored" data-anchor-id="ch1-4-1-2">4.1.2 Box plots</h4>
<p>Box plots are another way to visualize distributions, especially useful for comparing across groups:</p>
<div id="8138fc84" class="cell" data-execution_count="16">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb33"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Compare house value distributions across ocean proximity categories</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">6</span>))</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>sns.boxplot(data<span class="op">=</span>housing_df, x<span class="op">=</span><span class="st">'ocean_proximity'</span>, y<span class="op">=</span><span class="st">'median_house_value'</span>)</span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">'House Values by Ocean Proximity'</span>)</span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">'Ocean Proximity'</span>)</span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">'Median House Value ($)'</span>)</span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a>plt.xticks(rotation<span class="op">=</span><span class="dv">45</span>)</span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="chapter-1-eda_files/figure-html/cell-17-output-1.png" width="842" height="582" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<p>The box shows the 25th to 75th percentile (the middle 50% of data), the line in the middle is the median, and the “whiskers” extend to show the range. Points beyond the whiskers are potential outliers.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>Box plots are excellent for quickly comparing distributions across multiple groups. You can instantly see which group has higher medians, more variability, or more outliers.</p>
</div>
</div>
</section>
<section id="ch1-4-1-3" class="level4">
<h4 class="anchored" data-anchor-id="ch1-4-1-3">4.1.3 Scatter plots</h4>
<p>Scatter plots reveal relationships between two numeric variables:</p>
<div id="c2f49dbf" class="cell" data-execution_count="17">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb34"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Relationship between median income and house value</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">6</span>))</span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>sns.scatterplot(data<span class="op">=</span>housing_df, x<span class="op">=</span><span class="st">'median_income'</span>, y<span class="op">=</span><span class="st">'median_house_value'</span>)</span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">'House Value vs. Median Income'</span>)</span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">'Median Income (in $10k)'</span>)</span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">'Median House Value ($)'</span>)</span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="chapter-1-eda_files/figure-html/cell-18-output-1.png" width="842" height="523" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<p>If you see points trending upward from left to right, that’s a positive relationship—higher incomes are associated with more expensive houses. If points are scattered randomly, there’s no clear relationship.</p>
<p>You can add a third variable using color:</p>
<div id="7b91ef23" class="cell" data-execution_count="18">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb35"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Add ocean proximity as color</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">6</span>))</span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>sns.scatterplot(data<span class="op">=</span>housing_df, x<span class="op">=</span><span class="st">'median_income'</span>, y<span class="op">=</span><span class="st">'median_house_value'</span>,</span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>                hue<span class="op">=</span><span class="st">'ocean_proximity'</span>, alpha<span class="op">=</span><span class="fl">0.6</span>)</span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">'House Value vs. Median Income by Ocean Proximity'</span>)</span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">'Median Income (in $10k)'</span>)</span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">'Median House Value ($)'</span>)</span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="chapter-1-eda_files/figure-html/cell-19-output-1.png" width="842" height="523" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Now you can see if the relationship between income and house values differs by ocean proximity. Maybe coastal districts are consistently more expensive for the same income level.</p>
</section>
<section id="ch1-4-1-4" class="level4">
<h4 class="anchored" data-anchor-id="ch1-4-1-4">4.1.4 Bar plots</h4>
<p>Bar plots compare values across categories:</p>
<div id="eca444cb" class="cell" data-execution_count="19">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb36"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Average house value by ocean proximity</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">6</span>))</span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>sns.barplot(data<span class="op">=</span>housing_df, x<span class="op">=</span><span class="st">'ocean_proximity'</span>, y<span class="op">=</span><span class="st">'median_house_value'</span>, estimator<span class="op">=</span><span class="st">'mean'</span>)</span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">'Average House Value by Ocean Proximity'</span>)</span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">'Ocean Proximity'</span>)</span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">'Average House Value ($)'</span>)</span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a>plt.xticks(rotation<span class="op">=</span><span class="dv">45</span>)</span>
<span id="cb36-8"><a href="#cb36-8" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="chapter-1-eda_files/figure-html/cell-20-output-1.png" width="842" height="582" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<p>This makes comparisons obvious at a glance. You can immediately see which proximity category has the highest average house values.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>The key to choosing visualizations: think about what question you’re asking. “How is this variable distributed?” → histogram. “Is there a relationship between these two things?” → scatter plot. “Which group is highest?” → bar plot. Match the visualization to the question.</p>
</div>
</div>
</section>
</section>
<section id="ch1-4-2" class="level3">
<h3 class="anchored" data-anchor-id="ch1-4-2">4.2 Creating Visualizations with Seaborn</h3>
<p>Seaborn is built on top of matplotlib and makes creating statistical visualizations much easier. It has sensible defaults, nice-looking styles, and works seamlessly with pandas DataFrames.</p>
<p>Let’s walk through the basic visualizations you’ll use constantly:</p>
<section id="ch1-4-2-1" class="level4">
<h4 class="anchored" data-anchor-id="ch1-4-2-1">4.2.1 Histograms</h4>
<div id="63ff129c" class="cell" data-execution_count="20">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb37"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Basic histogram</span></span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a>sns.histplot(data<span class="op">=</span>housing_df, x<span class="op">=</span><span class="st">'median_house_value'</span>)</span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-8"><a href="#cb37-8" aria-hidden="true" tabindex="-1"></a><span class="co"># With less bins</span></span>
<span id="cb37-9"><a href="#cb37-9" aria-hidden="true" tabindex="-1"></a>sns.histplot(data<span class="op">=</span>housing_df, x<span class="op">=</span><span class="st">'median_house_value'</span>, bins<span class="op">=</span><span class="dv">10</span>)</span>
<span id="cb37-10"><a href="#cb37-10" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb37-11"><a href="#cb37-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-12"><a href="#cb37-12" aria-hidden="true" tabindex="-1"></a><span class="co"># With KDE (smooth density curve) overlay</span></span>
<span id="cb37-13"><a href="#cb37-13" aria-hidden="true" tabindex="-1"></a>sns.histplot(data<span class="op">=</span>housing_df, x<span class="op">=</span><span class="st">'median_house_value'</span>, kde<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb37-14"><a href="#cb37-14" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="chapter-1-eda_files/figure-html/cell-21-output-1.png" width="603" height="429" class="figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="chapter-1-eda_files/figure-html/cell-21-output-2.png" width="603" height="429" class="figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="chapter-1-eda_files/figure-html/cell-21-output-3.png" width="603" height="429" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<p>The <code>bins</code> parameter controls how many bars you see. Too few bins and you lose detail. Too many and it gets noisy. Usually 20-50 bins is a good starting point.</p>
</section>
<section id="ch1-4-2-2" class="level4">
<h4 class="anchored" data-anchor-id="ch1-4-2-2">4.2.2 Scatter plots</h4>
<div id="541c6e77" class="cell" data-execution_count="21">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb38"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Basic scatter plot</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>sns.scatterplot(data<span class="op">=</span>housing_df, x<span class="op">=</span><span class="st">'median_income'</span>, y<span class="op">=</span><span class="st">'median_house_value'</span>)</span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a><span class="co"># With color by category</span></span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a>sns.scatterplot(data<span class="op">=</span>housing_df, x<span class="op">=</span><span class="st">'median_income'</span>, y<span class="op">=</span><span class="st">'median_house_value'</span>,</span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a>                hue<span class="op">=</span><span class="st">'ocean_proximity'</span>)</span>
<span id="cb38-8"><a href="#cb38-8" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="chapter-1-eda_files/figure-html/cell-22-output-1.png" width="618" height="429" class="figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="chapter-1-eda_files/figure-html/cell-22-output-2.png" width="618" height="429" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Scatter plots are your go-to tool for finding relationships. If you’re doing EDA and wondering whether two variables are related, make a scatter plot. It takes 2 seconds and can reveal patterns that summary statistics miss.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>When exploring relationships, always make a scatter plot first. You might have the same correlation coefficient but completely different patterns. The classic example is Anscombe’s quartet—four datasets with identical statistics but totally different patterns when plotted.</p>
</div>
</div>
</section>
<section id="ch1-4-2-3" class="level4">
<h4 class="anchored" data-anchor-id="ch1-4-2-3">4.2.3 Bar plots</h4>
<div id="caa11b5c" class="cell" data-execution_count="22">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb39"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Count of observations by category</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>sns.countplot(data<span class="op">=</span>housing_df, x<span class="op">=</span><span class="st">'ocean_proximity'</span>)</span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>plt.xticks(rotation<span class="op">=</span><span class="dv">45</span>)</span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Average value by category</span></span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a>sns.barplot(data<span class="op">=</span>housing_df, x<span class="op">=</span><span class="st">'ocean_proximity'</span>, y<span class="op">=</span><span class="st">'median_house_value'</span>, estimator<span class="op">=</span><span class="st">'mean'</span>)</span>
<span id="cb39-8"><a href="#cb39-8" aria-hidden="true" tabindex="-1"></a>plt.xticks(rotation<span class="op">=</span><span class="dv">45</span>)</span>
<span id="cb39-9"><a href="#cb39-9" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb39-10"><a href="#cb39-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-11"><a href="#cb39-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Grouped bar plot - create age groups first</span></span>
<span id="cb39-12"><a href="#cb39-12" aria-hidden="true" tabindex="-1"></a>housing_df[<span class="st">'age_group'</span>] <span class="op">=</span> pd.cut(housing_df[<span class="st">'housing_median_age'</span>],</span>
<span id="cb39-13"><a href="#cb39-13" aria-hidden="true" tabindex="-1"></a>                                  bins<span class="op">=</span>[<span class="dv">0</span>, <span class="dv">20</span>, <span class="dv">35</span>, <span class="dv">100</span>],</span>
<span id="cb39-14"><a href="#cb39-14" aria-hidden="true" tabindex="-1"></a>                                  labels<span class="op">=</span>[<span class="st">'New'</span>, <span class="st">'Mid'</span>, <span class="st">'Old'</span>])</span>
<span id="cb39-15"><a href="#cb39-15" aria-hidden="true" tabindex="-1"></a>sns.barplot(data<span class="op">=</span>housing_df, x<span class="op">=</span><span class="st">'ocean_proximity'</span>, y<span class="op">=</span><span class="st">'median_house_value'</span>, hue<span class="op">=</span><span class="st">'age_group'</span>)</span>
<span id="cb39-16"><a href="#cb39-16" aria-hidden="true" tabindex="-1"></a>plt.xticks(rotation<span class="op">=</span><span class="dv">45</span>)</span>
<span id="cb39-17"><a href="#cb39-17" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="chapter-1-eda_files/figure-html/cell-23-output-1.png" width="601" height="488" class="figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="chapter-1-eda_files/figure-html/cell-23-output-2.png" width="618" height="488" class="figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="chapter-1-eda_files/figure-html/cell-23-output-3.png" width="618" height="488" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Bar plots are perfect for comparing across categories. The <code>estimator</code> parameter lets you choose what to show—mean, median, sum, etc.</p>
</section>
<section id="ch1-4-2-4" class="level4">
<h4 class="anchored" data-anchor-id="ch1-4-2-4">4.2.4 Box plots</h4>
<div id="f6d9634f" class="cell" data-execution_count="23">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb40"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Distribution by category</span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>sns.boxplot(data<span class="op">=</span>housing_df, x<span class="op">=</span><span class="st">'ocean_proximity'</span>, y<span class="op">=</span><span class="st">'median_house_value'</span>)</span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>plt.xticks(rotation<span class="op">=</span><span class="dv">45</span>)</span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Horizontal (sometimes easier to read with long labels)</span></span>
<span id="cb40-7"><a href="#cb40-7" aria-hidden="true" tabindex="-1"></a>sns.boxplot(data<span class="op">=</span>housing_df, y<span class="op">=</span><span class="st">'ocean_proximity'</span>, x<span class="op">=</span><span class="st">'median_house_value'</span>)</span>
<span id="cb40-8"><a href="#cb40-8" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb40-9"><a href="#cb40-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-10"><a href="#cb40-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Multiple categories</span></span>
<span id="cb40-11"><a href="#cb40-11" aria-hidden="true" tabindex="-1"></a>housing_df[<span class="st">'income_bracket'</span>] <span class="op">=</span> pd.cut(housing_df[<span class="st">'median_income'</span>],</span>
<span id="cb40-12"><a href="#cb40-12" aria-hidden="true" tabindex="-1"></a>                                       bins<span class="op">=</span>[<span class="dv">0</span>, <span class="fl">2.5</span>, <span class="fl">4.5</span>, <span class="dv">20</span>],</span>
<span id="cb40-13"><a href="#cb40-13" aria-hidden="true" tabindex="-1"></a>                                       labels<span class="op">=</span>[<span class="st">'Low'</span>, <span class="st">'Medium'</span>, <span class="st">'High'</span>])</span>
<span id="cb40-14"><a href="#cb40-14" aria-hidden="true" tabindex="-1"></a>sns.boxplot(data<span class="op">=</span>housing_df, x<span class="op">=</span><span class="st">'ocean_proximity'</span>, y<span class="op">=</span><span class="st">'median_house_value'</span>, hue<span class="op">=</span><span class="st">'income_bracket'</span>)</span>
<span id="cb40-15"><a href="#cb40-15" aria-hidden="true" tabindex="-1"></a>plt.xticks(rotation<span class="op">=</span><span class="dv">45</span>)</span>
<span id="cb40-16"><a href="#cb40-16" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="chapter-1-eda_files/figure-html/cell-24-output-1.png" width="618" height="488" class="figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="chapter-1-eda_files/figure-html/cell-24-output-2.png" width="658" height="429" class="figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="chapter-1-eda_files/figure-html/cell-24-output-3.png" width="618" height="488" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Box plots pack a lot of information into a small space. You see the median, the spread (IQR), and outliers all at once.</p>
</section>
<section id="ch1-4-2-5" class="level4">
<h4 class="anchored" data-anchor-id="ch1-4-2-5">4.2.5 Pair plots (bonus)</h4>
<p>When you want to see relationships between multiple variables at once:</p>
<div id="434c577b" class="cell" data-execution_count="24">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb41"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Scatter plots for all numeric variables</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>sns.pairplot(housing_df[[<span class="st">'median_house_value'</span>, <span class="st">'median_income'</span>, <span class="st">'housing_median_age'</span>, <span class="st">'total_rooms'</span>]])</span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Color by category</span></span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a>sns.pairplot(housing_df[[<span class="st">'median_house_value'</span>, <span class="st">'median_income'</span>, <span class="st">'housing_median_age'</span>,</span>
<span id="cb41-7"><a href="#cb41-7" aria-hidden="true" tabindex="-1"></a>                         <span class="st">'total_rooms'</span>, <span class="st">'ocean_proximity'</span>]],</span>
<span id="cb41-8"><a href="#cb41-8" aria-hidden="true" tabindex="-1"></a>             hue<span class="op">=</span><span class="st">'ocean_proximity'</span>)</span>
<span id="cb41-9"><a href="#cb41-9" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="chapter-1-eda_files/figure-html/cell-25-output-1.png" width="946" height="947" class="figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="chapter-1-eda_files/figure-html/cell-25-output-2.png" width="1091" height="947" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<p>This creates a grid of scatter plots showing every pair of variables. It’s incredibly useful for initial exploration—you can spot all the relationships at once.</p>
</section>
</section>
<section id="ch1-4-3" class="level3">
<h3 class="anchored" data-anchor-id="ch1-4-3">4.3 Best Practices for Effective Visualizations</h3>
<p>A visualization without labels is just decorative art. You need to make your plots readable and informative. Here are the key principles:</p>
<p><strong>1. Always add titles and axis labels</strong></p>
<div id="fbf8bde5" class="cell" data-execution_count="25">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb42"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'Bad: no labels'</span>)</span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>sns.scatterplot(data<span class="op">=</span>housing_df, x<span class="op">=</span><span class="st">'median_income'</span>, y<span class="op">=</span><span class="st">'median_house_value'</span>)</span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'Good: clear labels'</span>)</span>
<span id="cb42-6"><a href="#cb42-6" aria-hidden="true" tabindex="-1"></a>sns.scatterplot(data<span class="op">=</span>housing_df, x<span class="op">=</span><span class="st">'median_income'</span>, y<span class="op">=</span><span class="st">'median_house_value'</span>)</span>
<span id="cb42-7"><a href="#cb42-7" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">'House Value vs. Median Income'</span>, fontsize<span class="op">=</span><span class="dv">14</span>, fontweight<span class="op">=</span><span class="st">'bold'</span>)</span>
<span id="cb42-8"><a href="#cb42-8" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">'Median Income (in $10k)'</span>, fontsize<span class="op">=</span><span class="dv">12</span>)</span>
<span id="cb42-9"><a href="#cb42-9" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">'Median House Value ($)'</span>, fontsize<span class="op">=</span><span class="dv">12</span>)</span>
<span id="cb42-10"><a href="#cb42-10" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>Bad: no labels</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="chapter-1-eda_files/figure-html/cell-26-output-2.png" width="618" height="429" class="figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Good: clear labels</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="chapter-1-eda_files/figure-html/cell-26-output-4.png" width="621" height="454" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Your title should answer “What am I looking at?” Your axis labels should include units where relevant (dollars, income brackets, etc.).</p>
<p><strong>2. Make the plot big enough to read</strong></p>
<div id="d78cca83" class="cell" data-execution_count="26">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb45"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Too small (default size is often cramped)</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">6</span>, <span class="dv">4</span>))</span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>sns.scatterplot(data<span class="op">=</span>housing_df, x<span class="op">=</span><span class="st">'median_income'</span>, y<span class="op">=</span><span class="st">'median_house_value'</span>)</span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Better: specify figure size</span></span>
<span id="cb45-7"><a href="#cb45-7" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">6</span>))</span>
<span id="cb45-8"><a href="#cb45-8" aria-hidden="true" tabindex="-1"></a>sns.scatterplot(data<span class="op">=</span>housing_df, x<span class="op">=</span><span class="st">'median_income'</span>, y<span class="op">=</span><span class="st">'median_house_value'</span>)</span>
<span id="cb45-9"><a href="#cb45-9" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="chapter-1-eda_files/figure-html/cell-27-output-1.png" width="544" height="356" class="figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="chapter-1-eda_files/figure-html/cell-27-output-2.png" width="842" height="503" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<p>The <code>figsize</code> parameter takes (width, height) in inches. A good starting point is (10, 6) for most plots.</p>
<p><strong>3. Use color meaningfully</strong></p>
<p>Color should convey information, not just look pretty:</p>
<div id="ec27109c" class="cell" data-execution_count="27">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb46"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Color by category to show groups</span></span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>sns.scatterplot(data<span class="op">=</span>housing_df, x<span class="op">=</span><span class="st">'median_income'</span>, y<span class="op">=</span><span class="st">'median_house_value'</span>,</span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>                hue<span class="op">=</span><span class="st">'ocean_proximity'</span>, palette<span class="op">=</span><span class="st">'Set2'</span>)  <span class="co"># Use a colorblind-friendly palette</span></span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="chapter-1-eda_files/figure-html/cell-28-output-1.png" width="618" height="429" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Seaborn has many built-in palettes: ‘Set2’, ‘colorblind’, ‘husl’, etc. Choose one that’s easy to distinguish and colorblind-safe.</p>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Warning
</div>
</div>
<div class="callout-body-container callout-body">
<p>Avoid using red and green together as your only color distinction. About 8% of men have some form of color blindness that makes red-green distinctions difficult. Use colorblind-friendly palettes like ‘colorblind’ or ‘Set2’.</p>
</div>
</div>
<p><strong>4. Add grid lines for easier reading</strong></p>
<div id="dd57d832" class="cell" data-execution_count="28">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb47"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">6</span>))</span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>sns.scatterplot(data<span class="op">=</span>housing_df, x<span class="op">=</span><span class="st">'median_income'</span>, y<span class="op">=</span><span class="st">'median_house_value'</span>)</span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>plt.grid(<span class="va">True</span>, alpha<span class="op">=</span><span class="fl">0.3</span>)  <span class="co"># alpha makes it subtle</span></span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">'House Value vs. Median Income'</span>)</span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">'Median Income (in $10k)'</span>)</span>
<span id="cb47-6"><a href="#cb47-6" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">'Median House Value ($)'</span>)</span>
<span id="cb47-7"><a href="#cb47-7" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="chapter-1-eda_files/figure-html/cell-29-output-1.png" width="842" height="523" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Subtle grid lines make it easier to read values from your plot.</p>
<p><strong>5. Format numbers appropriately</strong></p>
<p>Large numbers benefit from formatting:</p>
<div id="c75abbf4" class="cell" data-execution_count="29">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb48"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.ticker <span class="im">as</span> mtick</span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">6</span>))</span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a>sns.histplot(data<span class="op">=</span>housing_df, x<span class="op">=</span><span class="st">'median_house_value'</span>)</span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-6"><a href="#cb48-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Format y-axis as integers</span></span>
<span id="cb48-7"><a href="#cb48-7" aria-hidden="true" tabindex="-1"></a>plt.gca().yaxis.set_major_formatter(mtick.StrMethodFormatter(<span class="st">'</span><span class="sc">{x:,.0f}</span><span class="st">'</span>))</span>
<span id="cb48-8"><a href="#cb48-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-9"><a href="#cb48-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Format x-axis as dollars</span></span>
<span id="cb48-10"><a href="#cb48-10" aria-hidden="true" tabindex="-1"></a>plt.gca().xaxis.set_major_formatter(mtick.StrMethodFormatter(<span class="st">'$</span><span class="sc">{x:,.0f}</span><span class="st">'</span>))</span>
<span id="cb48-11"><a href="#cb48-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-12"><a href="#cb48-12" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">'Distribution of Median House Values'</span>)</span>
<span id="cb48-13"><a href="#cb48-13" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">'Median House Value'</span>)</span>
<span id="cb48-14"><a href="#cb48-14" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">'Count'</span>)</span>
<span id="cb48-15"><a href="#cb48-15" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="chapter-1-eda_files/figure-html/cell-30-output-1.png" width="829" height="523" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<p>This adds dollar signs and comma separators, making the plot much easier to read.</p>
<p><strong>6. Adjust plot limits when needed</strong></p>
<p>Sometimes outliers make it hard to see the main pattern:</p>
<div id="a24c3eb9" class="cell" data-execution_count="30">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb49"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="co"># If you have extreme outliers</span></span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">6</span>))</span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>sns.scatterplot(data<span class="op">=</span>housing_df, x<span class="op">=</span><span class="st">'median_income'</span>, y<span class="op">=</span><span class="st">'median_house_value'</span>)</span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a>plt.xlim(<span class="dv">0</span>, <span class="dv">10</span>)  <span class="co"># Focus on median incomes under 10</span></span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a>plt.ylim(<span class="dv">0</span>, <span class="dv">500000</span>)  <span class="co"># Focus on house values under $500k</span></span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="chapter-1-eda_files/figure-html/cell-31-output-1.png" width="850" height="508" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Use this carefully—you’re choosing to hide data. But sometimes it’s necessary to see the pattern in the majority of your data.</p>
<p><strong>Complete example with all best practices:</strong></p>
<div id="189c5387" class="cell" data-execution_count="31">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb50"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.ticker <span class="im">as</span> mtick</span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Set the style for all plots</span></span>
<span id="cb50-6"><a href="#cb50-6" aria-hidden="true" tabindex="-1"></a>sns.set_style(<span class="st">'whitegrid'</span>)</span>
<span id="cb50-7"><a href="#cb50-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-8"><a href="#cb50-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the plot</span></span>
<span id="cb50-9"><a href="#cb50-9" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">12</span>, <span class="dv">7</span>))</span>
<span id="cb50-10"><a href="#cb50-10" aria-hidden="true" tabindex="-1"></a>sns.scatterplot(data<span class="op">=</span>housing_df, x<span class="op">=</span><span class="st">'median_income'</span>, y<span class="op">=</span><span class="st">'median_house_value'</span>,</span>
<span id="cb50-11"><a href="#cb50-11" aria-hidden="true" tabindex="-1"></a>                hue<span class="op">=</span><span class="st">'ocean_proximity'</span>, palette<span class="op">=</span><span class="st">'Set2'</span>, s<span class="op">=</span><span class="dv">100</span>, alpha<span class="op">=</span><span class="fl">0.6</span>)</span>
<span id="cb50-12"><a href="#cb50-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-13"><a href="#cb50-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Add labels and title</span></span>
<span id="cb50-14"><a href="#cb50-14" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">'House Value vs. Median Income by Ocean Proximity'</span>,</span>
<span id="cb50-15"><a href="#cb50-15" aria-hidden="true" tabindex="-1"></a>          fontsize<span class="op">=</span><span class="dv">16</span>, fontweight<span class="op">=</span><span class="st">'bold'</span>, pad<span class="op">=</span><span class="dv">20</span>)</span>
<span id="cb50-16"><a href="#cb50-16" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">'Median Income (in $10k)'</span>, fontsize<span class="op">=</span><span class="dv">13</span>)</span>
<span id="cb50-17"><a href="#cb50-17" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">'Median House Value ($)'</span>, fontsize<span class="op">=</span><span class="dv">13</span>)</span>
<span id="cb50-18"><a href="#cb50-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-19"><a href="#cb50-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Format the y-axis as currency</span></span>
<span id="cb50-20"><a href="#cb50-20" aria-hidden="true" tabindex="-1"></a>plt.gca().yaxis.set_major_formatter(mtick.StrMethodFormatter(<span class="st">'$</span><span class="sc">{x:,.0f}</span><span class="st">'</span>))</span>
<span id="cb50-21"><a href="#cb50-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-22"><a href="#cb50-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Adjust legend</span></span>
<span id="cb50-23"><a href="#cb50-23" aria-hidden="true" tabindex="-1"></a>plt.legend(title<span class="op">=</span><span class="st">'Ocean Proximity'</span>, fontsize<span class="op">=</span><span class="dv">11</span>, title_fontsize<span class="op">=</span><span class="dv">12</span>)</span>
<span id="cb50-24"><a href="#cb50-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-25"><a href="#cb50-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Add subtle grid</span></span>
<span id="cb50-26"><a href="#cb50-26" aria-hidden="true" tabindex="-1"></a>plt.grid(<span class="va">True</span>, alpha<span class="op">=</span><span class="fl">0.3</span>)</span>
<span id="cb50-27"><a href="#cb50-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-28"><a href="#cb50-28" aria-hidden="true" tabindex="-1"></a><span class="co"># Tight layout to prevent label cutoff</span></span>
<span id="cb50-29"><a href="#cb50-29" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb50-30"><a href="#cb50-30" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="chapter-1-eda_files/figure-html/cell-32-output-1.png" width="1144" height="664" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<p>This creates a professional-looking plot that’s easy to read and interpret.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>Save your well-formatted plotting code as a template. When you find styling that works well, reuse it. You don’t want to be tweaking font sizes every time you make a plot.</p>
</div>
</div>
<p>The key takeaway: visualizations are tools for understanding, not just decoration. Choose the right type of plot for your question, label everything clearly, and make it easy to read. When someone looks at your visualization, they should immediately understand what they’re seeing and why it matters.</p>
</section>
<section id="ch1-4-outcomes" class="level3">
<h3 class="anchored" data-anchor-id="ch1-4-outcomes">Learning outcomes:</h3>
<p><strong><em>By hand</em> you should be able to:</strong></p>
<ul>
<li>Pick an appropriate visualization for your data</li>
<li>Compare and contrast the visualizations discussed (e.g.&nbsp;their use cases, what data they work with, etc.)</li>
<li>Create a basic histogram, scatter plot, bar chart and box plot using Seaborn</li>
<li>Assign a title to your graph</li>
</ul>
<hr>
</section>
</section>
<section id="ch1-5" class="level2">
<h2 class="anchored" data-anchor-id="ch1-5">5. Testing Your Data Analysis Code</h2>
<section id="ch1-5-1" class="level3">
<h3 class="anchored" data-anchor-id="ch1-5-1">5.1 Why Testing Matters</h3>
<p>Here’s a scenario that happens all the time: You write some code to filter your data, run your analysis, get results, and present them to your team. Then someone asks “wait, why are there only 5 data points?”. Your entire analysis is now useless.</p>
<p>Testing catches these errors before they become embarrassing mistakes. And in data science, testing doesn’t have to be complicated. Simple checks can save you from major headaches.</p>
<p>The goal is simple: make sure your code is doing what you think it’s doing. If you filter data, did you actually get the rows you expected? If you drop missing values, did the count of missing values actually drop? These are the kinds of things you should be checking.</p>
</section>
<section id="ch1-5-2" class="level3">
<h3 class="anchored" data-anchor-id="ch1-5-2">5.2 Using assert Statements</h3>
<p>The simplest way to test your data analysis code is with <code>assert</code> statements. An assert is like a sanity check: you state what should be true, and if it’s not, Python stops and tells you something is wrong.</p>
<p>Here’s the basic idea:</p>
<div id="d164aae9" class="cell" data-execution_count="32">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb51"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="co"># This will pass (no error)</span></span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> <span class="dv">5</span> <span class="op">&gt;</span> <span class="dv">3</span></span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a><span class="co"># This will fail and raise an error</span></span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> <span class="dv">2</span> <span class="op">&gt;</span> <span class="dv">3</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-error">
<div class="ansi-escaped-output">
<pre><span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">AssertionError</span>                            Traceback (most recent call last)
<span class="ansi-cyan-fg">Cell</span><span class="ansi-cyan-fg"> </span><span class="ansi-green-fg">In[32]</span><span class="ansi-green-fg">, line 5</span>
<span class="ansi-green-fg">      2</span> <span style="font-weight:bold;color:rgb(0,135,0)">assert</span> <span class="ansi-green-fg">5</span> &gt; <span class="ansi-green-fg">3</span>
<span class="ansi-green-fg">      4</span> <span style="font-style:italic;color:rgb(95,135,135)"># This will fail and raise an error</span>
<span class="ansi-green-fg">----&gt; </span><span class="ansi-green-fg">5</span> <span style="font-weight:bold;color:rgb(0,135,0)">assert</span> <span class="ansi-green-fg">2</span> &gt; <span class="ansi-green-fg">3</span>

<span class="ansi-red-fg">AssertionError</span>: </pre>
</div>
</div>
</div>
<p>Notice that when an assertion fails, your code stops. That’s the point! You want to know immediately when something is wrong.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>You can (and should!) add a message to the assert statement to help you understand what went wrong.</p>
<div id="7f4f0c9d" class="cell" data-execution_count="33">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb52"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> <span class="dv">2</span> <span class="op">&gt;</span> <span class="dv">3</span>, <span class="st">"Two is not greater than three!"</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-error">
<div class="ansi-escaped-output">
<pre><span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">AssertionError</span>                            Traceback (most recent call last)
<span class="ansi-cyan-fg">Cell</span><span class="ansi-cyan-fg"> </span><span class="ansi-green-fg">In[33]</span><span class="ansi-green-fg">, line 1</span>
<span class="ansi-green-fg">----&gt; </span><span class="ansi-green-fg">1</span> <span style="font-weight:bold;color:rgb(0,135,0)">assert</span> <span class="ansi-green-fg">2</span> &gt; <span class="ansi-green-fg">3</span>, <span class="ansi-yellow-fg">"</span><span class="ansi-yellow-fg">Two is not greater than three!</span><span class="ansi-yellow-fg">"</span>

<span class="ansi-red-fg">AssertionError</span>: Two is not greater than three!</pre>
</div>
</div>
</div>
</div>
</div>
<p><strong>Common mistake: Case sensitivity</strong></p>
<p>Let’s say you want to filter for districts near the bay. The code below looks good at first glance:</p>
<div id="aade9c00" class="cell" data-execution_count="34">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb53"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Intentional typo: "near bay" instead of "NEAR BAY"</span></span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>near_bay <span class="op">=</span> housing_df[housing_df[<span class="st">'ocean_proximity'</span>] <span class="op">==</span> <span class="st">'near bay'</span>]</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>However, later you decide to print out how many districts are near the bay.</p>
<div id="c64ff0fa" class="cell" data-execution_count="35">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb54"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Found </span><span class="sc">{</span><span class="bu">len</span>(near_bay)<span class="sc">}</span><span class="ss"> districts near the bay"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>Found 0 districts near the bay</code></pre>
</div>
</div>
<p>Zero districts! But your code didn’t crash, so you might not notice. This is where asserts help:</p>
<div id="bfab5277" class="cell" data-execution_count="36">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb56"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter the data</span></span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a>near_bay <span class="op">=</span> housing_df[housing_df[<span class="st">'ocean_proximity'</span>] <span class="op">==</span> <span class="st">'near bay'</span>]</span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-4"><a href="#cb56-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Assert that we got some results</span></span>
<span id="cb56-5"><a href="#cb56-5" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> <span class="bu">len</span>(near_bay) <span class="op">&gt;</span> <span class="dv">0</span>, <span class="st">"No districts found! Check your filter condition"</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-error">
<div class="ansi-escaped-output">
<pre><span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">AssertionError</span>                            Traceback (most recent call last)
<span class="ansi-cyan-fg">Cell</span><span class="ansi-cyan-fg"> </span><span class="ansi-green-fg">In[36]</span><span class="ansi-green-fg">, line 5</span>
<span class="ansi-green-fg">      2</span> near_bay = housing_df[housing_df[<span class="ansi-yellow-fg">'</span><span class="ansi-yellow-fg">ocean_proximity</span><span class="ansi-yellow-fg">'</span>] == <span class="ansi-yellow-fg">'</span><span class="ansi-yellow-fg">near bay</span><span class="ansi-yellow-fg">'</span>]
<span class="ansi-green-fg">      4</span> <span style="font-style:italic;color:rgb(95,135,135)"># Assert that we got some results</span>
<span class="ansi-green-fg">----&gt; </span><span class="ansi-green-fg">5</span> <span style="font-weight:bold;color:rgb(0,135,0)">assert</span> <span style="color:rgb(0,135,0)">len</span>(near_bay) &gt; <span class="ansi-green-fg">0</span>, <span class="ansi-yellow-fg">"</span><span class="ansi-yellow-fg">No districts found! Check your filter condition</span><span class="ansi-yellow-fg">"</span>

<span class="ansi-red-fg">AssertionError</span>: No districts found! Check your filter condition</pre>
</div>
</div>
</div>
<p>Now the code fails loudly, and the error message tells you exactly what went wrong. The problem is that the values in that column are capitalized, and you forgot to capitalize them. By using an <code>assert</code> you immediately catch the problem and can investigate it, before it becomes a bigger issue.</p>
<p><strong>Checking data after operations</strong></p>
<p>Use asserts after every major operation to verify it did what you expected:</p>
<div id="a08f7d30" class="cell" data-execution_count="37">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb57"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Start with the full dataset</span></span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Starting with </span><span class="sc">{</span><span class="bu">len</span>(housing_df)<span class="sc">}</span><span class="ss"> rows"</span>)</span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Drop missing values</span></span>
<span id="cb57-5"><a href="#cb57-5" aria-hidden="true" tabindex="-1"></a>housing_clean <span class="op">=</span> housing_df.dropna()</span>
<span id="cb57-6"><a href="#cb57-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-7"><a href="#cb57-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Assert that we actually dropped some rows (since we know there were missing values)</span></span>
<span id="cb57-8"><a href="#cb57-8" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> <span class="bu">len</span>(housing_clean) <span class="op">&lt;</span> <span class="bu">len</span>(housing_df), <span class="st">"Expected to drop some rows with missing values"</span></span>
<span id="cb57-9"><a href="#cb57-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-10"><a href="#cb57-10" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"After dropping missing values: </span><span class="sc">{</span><span class="bu">len</span>(housing_clean)<span class="sc">}</span><span class="ss"> rows"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>Starting with 20640 rows
After dropping missing values: 20433 rows</code></pre>
</div>
</div>
<p><strong>Checking ranges and values</strong></p>
<p>After computing statistics, verify they make sense:</p>
<div id="218cae10" class="cell" data-execution_count="38">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb59"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate median house value</span></span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a>median_value <span class="op">=</span> housing_df[<span class="st">'median_house_value'</span>].median()</span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Median house value: $</span><span class="sc">{</span>median_value<span class="sc">:,.0f}</span><span class="ss">"</span>)</span>
<span id="cb59-4"><a href="#cb59-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-5"><a href="#cb59-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Sanity checks</span></span>
<span id="cb59-6"><a href="#cb59-6" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> median_value <span class="op">&gt;</span> <span class="dv">0</span>, <span class="st">"House values should be positive"</span></span>
<span id="cb59-7"><a href="#cb59-7" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> median_value <span class="op">&lt;</span> <span class="dv">10000000</span>, <span class="st">"Median seems unrealistically high - check your data"</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>Median house value: $179,700</code></pre>
</div>
</div>
<p><strong>Checking for duplicates</strong></p>
<p>After removing duplicates, verify they’re actually gone:</p>
<div id="fe27e5f4" class="cell" data-execution_count="39">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb61"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove duplicates</span></span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a>housing_no_dupes <span class="op">=</span> housing_df.drop_duplicates()</span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-4"><a href="#cb61-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Verify no duplicates remain</span></span>
<span id="cb61-5"><a href="#cb61-5" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> housing_no_dupes.duplicated().<span class="bu">sum</span>() <span class="op">==</span> <span class="dv">0</span>, <span class="st">"Duplicates still exist after dropping"</span></span>
<span id="cb61-6"><a href="#cb61-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-7"><a href="#cb61-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Successfully removed duplicates. </span><span class="sc">{</span><span class="bu">len</span>(housing_df) <span class="op">-</span> <span class="bu">len</span>(housing_no_dupes)<span class="sc">}</span><span class="ss"> rows removed"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>Successfully removed duplicates. 0 rows removed</code></pre>
</div>
</div>
<p><strong>A practical example: Complete data cleaning with asserts</strong></p>
<p>Here’s how you might use asserts throughout a real data cleaning workflow:</p>
<div id="619b9e9d" class="cell" data-execution_count="40">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb63"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-3"><a href="#cb63-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Load data</span></span>
<span id="cb63-4"><a href="#cb63-4" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.read_csv(<span class="st">'../data/housing.csv'</span>)</span>
<span id="cb63-5"><a href="#cb63-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-6"><a href="#cb63-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Assert basic structure</span></span>
<span id="cb63-7"><a href="#cb63-7" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> <span class="bu">len</span>(df) <span class="op">&gt;</span> <span class="dv">0</span>, <span class="st">"DataFrame is empty"</span></span>
<span id="cb63-8"><a href="#cb63-8" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> <span class="st">'median_house_value'</span> <span class="kw">in</span> df.columns, <span class="st">"Missing expected column"</span></span>
<span id="cb63-9"><a href="#cb63-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-10"><a href="#cb63-10" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Starting with </span><span class="sc">{</span><span class="bu">len</span>(df)<span class="sc">}</span><span class="ss"> rows"</span>)</span>
<span id="cb63-11"><a href="#cb63-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-12"><a href="#cb63-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Check for missing values before cleaning</span></span>
<span id="cb63-13"><a href="#cb63-13" aria-hidden="true" tabindex="-1"></a>missing_before <span class="op">=</span> df.isnull().<span class="bu">sum</span>().<span class="bu">sum</span>()</span>
<span id="cb63-14"><a href="#cb63-14" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Missing values before cleaning: </span><span class="sc">{</span>missing_before<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb63-15"><a href="#cb63-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-16"><a href="#cb63-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Fill missing values</span></span>
<span id="cb63-17"><a href="#cb63-17" aria-hidden="true" tabindex="-1"></a>df_clean <span class="op">=</span> df.copy()</span>
<span id="cb63-18"><a href="#cb63-18" aria-hidden="true" tabindex="-1"></a>median_bedrooms <span class="op">=</span> df_clean[<span class="st">'total_bedrooms'</span>].median()</span>
<span id="cb63-19"><a href="#cb63-19" aria-hidden="true" tabindex="-1"></a>df_clean[<span class="st">'total_bedrooms'</span>] <span class="op">=</span> df_clean[<span class="st">'total_bedrooms'</span>].fillna(median_bedrooms)</span>
<span id="cb63-20"><a href="#cb63-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-21"><a href="#cb63-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Assert that we reduced missing values</span></span>
<span id="cb63-22"><a href="#cb63-22" aria-hidden="true" tabindex="-1"></a>missing_after <span class="op">=</span> df_clean.isnull().<span class="bu">sum</span>().<span class="bu">sum</span>()</span>
<span id="cb63-23"><a href="#cb63-23" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> missing_after <span class="op">&lt;</span> missing_before, <span class="st">"Should have fewer missing values after cleaning"</span></span>
<span id="cb63-24"><a href="#cb63-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-25"><a href="#cb63-25" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Missing values after cleaning: </span><span class="sc">{</span>missing_after<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb63-26"><a href="#cb63-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-27"><a href="#cb63-27" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter for expensive houses</span></span>
<span id="cb63-28"><a href="#cb63-28" aria-hidden="true" tabindex="-1"></a>expensive <span class="op">=</span> df_clean[df_clean[<span class="st">'median_house_value'</span>] <span class="op">&gt;</span> <span class="dv">400000</span>]</span>
<span id="cb63-29"><a href="#cb63-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-30"><a href="#cb63-30" aria-hidden="true" tabindex="-1"></a><span class="co"># Assert we got some results</span></span>
<span id="cb63-31"><a href="#cb63-31" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> <span class="bu">len</span>(expensive) <span class="op">&gt;</span> <span class="dv">0</span>, <span class="st">"No expensive houses found - check threshold"</span></span>
<span id="cb63-32"><a href="#cb63-32" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> <span class="bu">len</span>(expensive) <span class="op">&lt;</span> <span class="bu">len</span>(df_clean), <span class="st">"All houses are expensive? Something is wrong"</span></span>
<span id="cb63-33"><a href="#cb63-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-34"><a href="#cb63-34" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Found </span><span class="sc">{</span><span class="bu">len</span>(expensive)<span class="sc">}</span><span class="ss"> expensive districts"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>Starting with 20640 rows
Missing values before cleaning: 207
Missing values after cleaning: 0
Found 1744 expensive districts</code></pre>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>Use assert statements liberally during development. They’re like guardrails that keep your analysis on track. Once your code is working correctly, you can leave them in—they serve as documentation of what your code expects to be true.</p>
</div>
</div>
<p><strong>What about “real” testing?</strong></p>
<p>Assert statements are great for quick checks during data exploration. In later chapters, we’ll learn about proper unit tests, which are essential when you’re building production data pipelines or reusable analysis code. But for now, assert statements will catch 90% of your mistakes with 10% of the effort.</p>
<p>The key principle: <strong>Don’t trust your code blindly</strong>. Check that it’s doing what you think it’s doing. Your future self (and your team) will thank you.</p>
</section>
<section id="ch1-5-outcomes" class="level3">
<h3 class="anchored" data-anchor-id="ch1-5-outcomes">Learning outcomes:</h3>
<p><strong><em>By hand</em> you should be able to:</strong></p>
<ul>
<li>Understand what <code>assert</code> statements do</li>
<li>Write <code>assert</code> statements to check conditions</li>
<li>Write appropriate responses that will be displayed if the <code>assert</code> fails</li>
<li>Understand when <code>assert</code> statements are and are not appropriate to use</li>
</ul>
<hr>
</section>
</section>
<section id="ch1-6" class="level2">
<h2 class="anchored" data-anchor-id="ch1-6">6. Scaling EDA with AI</h2>
<p>You now know how to do EDA by hand: load data, clean it, compute statistics, make visualizations, test your assumptions. This is crucial foundational knowledge. But here’s the thing: what if you have 50 columns instead of 10? What if you want to compare patterns across 20 different categories? What if you want to check 100 different hypotheses?</p>
<p>This is where AI coding assistants shine. Once you understand what you’re doing and why, you can use AI to scale your work massively. The key is that you already know what to look for, so you can verify the AI’s output and catch mistakes.</p>
<section id="ch1-6-1" class="level3">
<h3 class="anchored" data-anchor-id="ch1-6-1">6.1 Automating Exploratory Visualizations</h3>
<p>Let’s say you want to create histograms for every numeric column in your dataset. Doing this by hand would be tedious:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb65"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="co"># By hand: repetitive and error-prone</span></span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">6</span>))</span>
<span id="cb65-3"><a href="#cb65-3" aria-hidden="true" tabindex="-1"></a>sns.histplot(data<span class="op">=</span>housing_df, x<span class="op">=</span><span class="st">'median_house_value'</span>)</span>
<span id="cb65-4"><a href="#cb65-4" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">'Distribution of Median House Value'</span>)</span>
<span id="cb65-5"><a href="#cb65-5" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb65-6"><a href="#cb65-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-7"><a href="#cb65-7" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">6</span>))</span>
<span id="cb65-8"><a href="#cb65-8" aria-hidden="true" tabindex="-1"></a>sns.histplot(data<span class="op">=</span>housing_df, x<span class="op">=</span><span class="st">'median_income'</span>)</span>
<span id="cb65-9"><a href="#cb65-9" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">'Distribution of Median Income'</span>)</span>
<span id="cb65-10"><a href="#cb65-10" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb65-11"><a href="#cb65-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-12"><a href="#cb65-12" aria-hidden="true" tabindex="-1"></a><span class="co"># ... repeat for every column ...</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>Instead, you can use AI to generate this systematically. Here’s an effective prompt:</p>
<blockquote class="blockquote">
<p>“I have a pandas DataFrame called <code>housing_df</code> with these numeric columns: longitude, latitude, housing_median_age, total_rooms, total_bedrooms, population, households, median_income, median_house_value.</p>
<p>Write Python code using Pandas and Seaborn that creates a histogram for each numeric column. Use seaborn’s histplot, make each figure 10x6 inches, add appropriate titles (formatted nicely with spaces instead of underscores), and save each plot as a PNG file named after the column.</p>
<p>Use a loop to avoid repetitive code.”</p>
</blockquote>
<p>The AI will generate something like this:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb66"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb66-3"><a href="#cb66-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb66-4"><a href="#cb66-4" aria-hidden="true" tabindex="-1"></a><span class="co"># List of numeric columns</span></span>
<span id="cb66-5"><a href="#cb66-5" aria-hidden="true" tabindex="-1"></a>numeric_cols <span class="op">=</span> [<span class="st">'longitude'</span>, <span class="st">'latitude'</span>, <span class="st">'housing_median_age'</span>, <span class="st">'total_rooms'</span>,</span>
<span id="cb66-6"><a href="#cb66-6" aria-hidden="true" tabindex="-1"></a>                <span class="st">'total_bedrooms'</span>, <span class="st">'population'</span>, <span class="st">'households'</span>, <span class="st">'median_income'</span>,</span>
<span id="cb66-7"><a href="#cb66-7" aria-hidden="true" tabindex="-1"></a>                <span class="st">'median_house_value'</span>]</span>
<span id="cb66-8"><a href="#cb66-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb66-9"><a href="#cb66-9" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> col <span class="kw">in</span> numeric_cols:</span>
<span id="cb66-10"><a href="#cb66-10" aria-hidden="true" tabindex="-1"></a>    plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">6</span>))</span>
<span id="cb66-11"><a href="#cb66-11" aria-hidden="true" tabindex="-1"></a>    sns.histplot(data<span class="op">=</span>housing_df, x<span class="op">=</span>col, bins<span class="op">=</span><span class="dv">30</span>)</span>
<span id="cb66-12"><a href="#cb66-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb66-13"><a href="#cb66-13" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Format title nicely</span></span>
<span id="cb66-14"><a href="#cb66-14" aria-hidden="true" tabindex="-1"></a>    title <span class="op">=</span> col.replace(<span class="st">'_'</span>, <span class="st">' '</span>).title()</span>
<span id="cb66-15"><a href="#cb66-15" aria-hidden="true" tabindex="-1"></a>    plt.title(<span class="ss">f'Distribution of </span><span class="sc">{</span>title<span class="sc">}</span><span class="ss">'</span>)</span>
<span id="cb66-16"><a href="#cb66-16" aria-hidden="true" tabindex="-1"></a>    plt.xlabel(title)</span>
<span id="cb66-17"><a href="#cb66-17" aria-hidden="true" tabindex="-1"></a>    plt.ylabel(<span class="st">'Count'</span>)</span>
<span id="cb66-18"><a href="#cb66-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb66-19"><a href="#cb66-19" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Save the plot</span></span>
<span id="cb66-20"><a href="#cb66-20" aria-hidden="true" tabindex="-1"></a>    plt.savefig(<span class="ss">f'</span><span class="sc">{</span>col<span class="sc">}</span><span class="ss">_histogram.png'</span>, dpi<span class="op">=</span><span class="dv">300</span>, bbox_inches<span class="op">=</span><span class="st">'tight'</span>)</span>
<span id="cb66-21"><a href="#cb66-21" aria-hidden="true" tabindex="-1"></a>    plt.close()  <span class="co"># Close to avoid memory issues</span></span>
<span id="cb66-22"><a href="#cb66-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb66-23"><a href="#cb66-23" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Created </span><span class="sc">{</span><span class="bu">len</span>(numeric_cols)<span class="sc">}</span><span class="ss"> histograms"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>Notice how the prompt was specific about what you wanted. You told the AI the column names, the figure size, the formatting requirements, and the output format. Good prompts get good results.</p>
</div>
</div>
<p><strong>Comparing distributions across groups</strong></p>
<p>Want to see how house values differ across all ocean proximity categories? That’s a perfect job for AI:</p>
<blockquote class="blockquote">
<p>“Using my <code>housing_df</code> DataFrame with columns ‘ocean_proximity’ and ‘median_house_value’, create box plots comparing house values across all ocean proximity categories. Make the plot readable with rotated x-axis labels. Also calculate summary statistics (mean, median, count) for each category and save them all in a dataframe.”</p>
</blockquote>
<p><strong>Creating a comprehensive visualization suite</strong></p>
<p>For a complete EDA report, you might prompt:</p>
<blockquote class="blockquote">
<p>“Create a comprehensive visualization suite for the California housing dataset. For each numeric variable, create: 1. A histogram showing the distribution 2. A box plot showing the distribution by ocean_proximity 3. A scatter plot against median_house_value (the target variable)</p>
<p>Organize these into subplots so each variable gets a row with 3 plots. Save the output as a single multi-page PDF.”</p>
</blockquote>
<p>The AI will generate code with subplots, proper layout management, and file handling—saving you hours of work.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>Notice how, in all of these cases, you told the AI precisely what to do. In addition, you used the things you have learned this chapter to prompt it precisely. We <strong>do not</strong> want to give AI overly vague instructions like “investigate my data” or “find patterns”. It’s our job as the data scientist to <em>guide</em> the AI to help us, not to turn over the entire thought process to it.</p>
</div>
</div>
</section>
<section id="ch1-6-2" class="level3">
<h3 class="anchored" data-anchor-id="ch1-6-2">6.2 Testing Across Data Subsets</h3>
<p>Imagine you want to analyze how the relationship between income and house values differs across different regions. By hand, you’d need to:</p>
<ol type="1">
<li>Filter for each ocean proximity category</li>
<li>Compute correlations for each</li>
<li>Create scatter plots for each</li>
<li>Compare the results</li>
</ol>
<p>That’s tedious. Instead, prompt the AI:</p>
<blockquote class="blockquote">
<p>“For the <code>housing_df</code> DataFrame, I want to analyze how the relationship between ‘median_income’ and ‘median_house_value’ varies by ‘ocean_proximity’.</p>
<p>For each ocean proximity category:</p>
<ol type="1">
<li>Calculate the correlation coefficient</li>
<li>Create a scatter plot with a regression line</li>
<li>Print summary statistics</li>
</ol>
<p>Store the summary statistics and correlation coefficients in a dataframe. Save the scatter plots with a filename that includes the ocean proximity category.”</p>
</blockquote>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>Once again, we give the AI precise instructions. Think of it as an assistant who is eager to help, but needs careful direction at every step.</p>
</div>
</div>
<p>The AI will generate code that loops through each category, performs the analysis, and presents it clearly. You then review the results with your understanding of the data, catching any issues.</p>
<p><strong>Systematic subset analysis</strong></p>
<p>You can scale this to any grouping:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb67"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="co"># AI-generated code for systematic analysis</span></span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> proximity <span class="kw">in</span> housing_df[<span class="st">'ocean_proximity'</span>].unique():</span>
<span id="cb67-3"><a href="#cb67-3" aria-hidden="true" tabindex="-1"></a>    subset <span class="op">=</span> housing_df[housing_df[<span class="st">'ocean_proximity'</span>] <span class="op">==</span> proximity]</span>
<span id="cb67-4"><a href="#cb67-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-5"><a href="#cb67-5" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"</span><span class="ch">\n</span><span class="ss">=== Analysis for </span><span class="sc">{</span>proximity<span class="sc">}</span><span class="ss"> ==="</span>)</span>
<span id="cb67-6"><a href="#cb67-6" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"Number of districts: </span><span class="sc">{</span><span class="bu">len</span>(subset)<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb67-7"><a href="#cb67-7" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"Median house value: $</span><span class="sc">{</span>subset[<span class="st">'median_house_value'</span>]<span class="sc">.</span>median()<span class="sc">:,.0f}</span><span class="ss">"</span>)</span>
<span id="cb67-8"><a href="#cb67-8" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"Median income: $</span><span class="sc">{</span>subset[<span class="st">'median_income'</span>]<span class="sc">.</span>median()<span class="sc">:.2f}</span><span class="ss">"</span>)</span>
<span id="cb67-9"><a href="#cb67-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-10"><a href="#cb67-10" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Correlation</span></span>
<span id="cb67-11"><a href="#cb67-11" aria-hidden="true" tabindex="-1"></a>    corr <span class="op">=</span> subset[<span class="st">'median_income'</span>].corr(subset[<span class="st">'median_house_value'</span>])</span>
<span id="cb67-12"><a href="#cb67-12" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"Income-Value correlation: </span><span class="sc">{</span>corr<span class="sc">:.3f}</span><span class="ss">"</span>)</span>
<span id="cb67-13"><a href="#cb67-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-14"><a href="#cb67-14" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Visualization</span></span>
<span id="cb67-15"><a href="#cb67-15" aria-hidden="true" tabindex="-1"></a>    plt.figure(figsize<span class="op">=</span>(<span class="dv">8</span>, <span class="dv">5</span>))</span>
<span id="cb67-16"><a href="#cb67-16" aria-hidden="true" tabindex="-1"></a>    sns.regplot(data<span class="op">=</span>subset, x<span class="op">=</span><span class="st">'median_income'</span>, y<span class="op">=</span><span class="st">'median_house_value'</span>,</span>
<span id="cb67-17"><a href="#cb67-17" aria-hidden="true" tabindex="-1"></a>                scatter_kws<span class="op">=</span>{<span class="st">'alpha'</span>:<span class="fl">0.5</span>})</span>
<span id="cb67-18"><a href="#cb67-18" aria-hidden="true" tabindex="-1"></a>    plt.title(<span class="ss">f'Income vs Value: </span><span class="sc">{</span>proximity<span class="sc">}</span><span class="ss">'</span>)</span>
<span id="cb67-19"><a href="#cb67-19" aria-hidden="true" tabindex="-1"></a>    plt.show()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>The point isn’t that you couldn’t write this code—you absolutely can now! The point is that AI lets you analyze 10 subsets as easily as 1 subset. You’re scaling your analysis, not replacing your understanding.</p>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Warning
</div>
</div>
<div class="callout-body-container callout-body">
<p>AI is excellent at generating repetitive analysis code, but it cannot make judgment calls about your data. You need to understand what the analyses mean, whether the results make sense, and what actions to take. AI scales your work; it doesn’t replace your thinking.</p>
</div>
</div>
<p>The key pattern: <strong>Do it by hand first, scale with AI second</strong>. Learn to check one column carefully, then use AI to check all 50 columns. Learn to analyze one subset, then scale to all subsets. Your understanding guides the AI; the AI amplifies your productivity.</p>
</section>
<section id="ch1-6-outcomes" class="level3">
<h3 class="anchored" data-anchor-id="ch1-6-outcomes">Learning outcomes:</h3>
<p><strong><em>By hand</em> you should be able to:</strong></p>
<ul>
<li>Write effective prompts for doing extensive EDA</li>
</ul>
<hr>
</section>
</section>
<section id="ch1-7" class="level2">
<h2 class="anchored" data-anchor-id="ch1-7">7. The Iterative Nature of EDA</h2>
<section id="ch1-7-1" class="level3">
<h3 class="anchored" data-anchor-id="ch1-7-1">7.1 EDA as a Process, Not a Checklist</h3>
<p>Here’s a mistake beginners make: they treat EDA like a todo list. Load data ✓, check missing values ✓, make histogram ✓, done!</p>
<p>Real EDA doesn’t work like that. EDA is a conversation with your data. You ask a question, look at the answer, and that answer suggests new questions. You follow the thread wherever it leads.</p>
<p>Let’s see this in action with our housing data:</p>
<p><strong>Starting question:</strong> “What affects house values?”</p>
<div id="436f984a" class="cell" data-execution_count="41">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb68"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Initial exploration: which variables correlate with house value?</span></span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a>numeric_cols <span class="op">=</span> [<span class="st">'housing_median_age'</span>, <span class="st">'total_rooms'</span>, <span class="st">'total_bedrooms'</span>,</span>
<span id="cb68-3"><a href="#cb68-3" aria-hidden="true" tabindex="-1"></a>                <span class="st">'population'</span>, <span class="st">'households'</span>, <span class="st">'median_income'</span>]</span>
<span id="cb68-4"><a href="#cb68-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-5"><a href="#cb68-5" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> col <span class="kw">in</span> numeric_cols:</span>
<span id="cb68-6"><a href="#cb68-6" aria-hidden="true" tabindex="-1"></a>    corr <span class="op">=</span> housing_df[col].corr(housing_df[<span class="st">'median_house_value'</span>])</span>
<span id="cb68-7"><a href="#cb68-7" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"</span><span class="sc">{</span>col<span class="sc">:20s}</span><span class="ss">: </span><span class="sc">{</span>corr<span class="sc">:6.3f}</span><span class="ss">"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>housing_median_age  :  0.106
total_rooms         :  0.134
total_bedrooms      :  0.050
population          : -0.025
households          :  0.066
median_income       :  0.688</code></pre>
</div>
</div>
<p><strong>Insight:</strong> Median income has the strongest correlation (0.688). That makes sense—wealthier areas have more expensive houses.</p>
<p><strong>New question:</strong> “Does this relationship hold across all regions?”</p>
<div id="e1f4f642" class="cell" data-execution_count="42">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb70"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Check if income-value relationship varies by ocean proximity</span></span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> proximity <span class="kw">in</span> housing_df[<span class="st">'ocean_proximity'</span>].unique():</span>
<span id="cb70-3"><a href="#cb70-3" aria-hidden="true" tabindex="-1"></a>    subset <span class="op">=</span> housing_df[housing_df[<span class="st">'ocean_proximity'</span>] <span class="op">==</span> proximity]</span>
<span id="cb70-4"><a href="#cb70-4" aria-hidden="true" tabindex="-1"></a>    corr <span class="op">=</span> subset[<span class="st">'median_income'</span>].corr(subset[<span class="st">'median_house_value'</span>])</span>
<span id="cb70-5"><a href="#cb70-5" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"</span><span class="sc">{</span>proximity<span class="sc">:15s}</span><span class="ss">: </span><span class="sc">{</span>corr<span class="sc">:.3f}</span><span class="ss"> (</span><span class="sc">{</span><span class="bu">len</span>(subset)<span class="sc">:5d}</span><span class="ss"> districts)"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>NEAR BAY       : 0.633 ( 2290 districts)
&lt;1H OCEAN      : 0.679 ( 9136 districts)
INLAND         : 0.699 ( 6551 districts)
NEAR OCEAN     : 0.704 ( 2658 districts)
ISLAND         : -0.540 (    5 districts)</code></pre>
</div>
</div>
<p><strong>Insight:</strong> The correlation is weakest for islands (only 5 districts though—small sample!). Strongest for inland areas.</p>
<p><strong>New question:</strong> “Why is the island correlation so different? Let’s look at those islands.”</p>
<div id="56203ecf" class="cell" data-execution_count="43">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb72"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Investigate the island districts</span></span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a>islands <span class="op">=</span> housing_df[housing_df[<span class="st">'ocean_proximity'</span>] <span class="op">==</span> <span class="st">'ISLAND'</span>]</span>
<span id="cb72-3"><a href="#cb72-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(islands[[<span class="st">'median_income'</span>, <span class="st">'median_house_value'</span>, <span class="st">'housing_median_age'</span>]].to_string())</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>      median_income  median_house_value  housing_median_age
8314         2.1579            450000.0                27.0
8315         2.8333            414700.0                52.0
8316         3.3906            300000.0                52.0
8317         2.7361            450000.0                52.0
8318         2.6042            287500.0                29.0</code></pre>
</div>
</div>
<p><strong>Insight:</strong> Only 5 island districts total, with a narrow range of incomes. The low correlation might just be due to small sample size and limited variation.</p>
<p>See what happened? One question led to another, which led to another. We started with “what affects house values?” and ended up investigating the peculiarities of island properties. This is normal. This is good.</p>
<p><strong>EDA is not linear.</strong> You don’t march through a predetermined set of steps. You explore, find something interesting, investigate it, find something else interesting, investigate that. Some paths lead nowhere. Some paths lead to important discoveries. You won’t know until you follow them.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>The best data scientists are curious. When they see something unusual in the data, they don’t just note it and move on—they dig deeper. Why is this unusual? What does it mean? What else should I check?</p>
</div>
</div>
</section>
<section id="ch1-7-2" class="level3">
<h3 class="anchored" data-anchor-id="ch1-7-2">7.2 Documenting Your Findings</h3>
<p>Here’s a problem: you do all this exploration, find interesting patterns, make decisions about the data, and then… a week later you can’t remember what you found or why you made those decisions.</p>
<p>Documentation isn’t just for other people. It’s for future you.</p>
<p><strong>What to document:</strong></p>
<ol type="1">
<li><strong>Interesting patterns you discovered</strong>
<ul>
<li>“House values show clear geographic clustering—coastal areas are consistently more expensive”</li>
<li>“Total_bedrooms has 207 missing values (1%), appears random, not systematically related to other variables”</li>
</ul></li>
<li><strong>Decisions you made and why</strong>
<ul>
<li>“Filled missing bedrooms with median rather than dropping rows—only 1% missing, no pattern suggesting systematic missingness”</li>
<li>“Kept all outliers in house values—verified these are real (e.g., expensive areas like San Francisco), not data errors”</li>
</ul></li>
<li><strong>Questions that need follow-up</strong>
<ul>
<li>“Island category has only 5 districts—may need to group with NEAR_OCEAN for modeling”</li>
<li>“Longitude/latitude show clear clustering—should we create region categories?”</li>
</ul></li>
<li><strong>Hypotheses for modeling</strong>
<ul>
<li>“Median_income will likely be the strongest predictor”</li>
<li>“May need to include interactions between location and other features”</li>
</ul></li>
</ol>
<p><strong>How to document:</strong></p>
<p>The simplest approach is to use markdown cells in your Jupyter notebook or Quarto document:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb74"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Bad: No context</span></span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a>housing_df <span class="op">=</span> housing_df.dropna()</span>
<span id="cb74-3"><a href="#cb74-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb74-4"><a href="#cb74-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Better: Explain your reasoning</span></span>
<span id="cb74-5"><a href="#cb74-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Dropping 207 rows with missing total_bedrooms (1% of data)</span></span>
<span id="cb74-6"><a href="#cb74-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Missing values appear random (no correlation with other variables)</span></span>
<span id="cb74-7"><a href="#cb74-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Median imputation would be valid alternative, but with 20k+ rows,</span></span>
<span id="cb74-8"><a href="#cb74-8" aria-hidden="true" tabindex="-1"></a><span class="co"># dropping 1% has minimal impact</span></span>
<span id="cb74-9"><a href="#cb74-9" aria-hidden="true" tabindex="-1"></a>housing_df <span class="op">=</span> housing_df.dropna()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>Even better, use markdown cells to write full explanations:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb75"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a><span class="fu">## Data Cleaning Decisions</span></span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-3"><a href="#cb75-3" aria-hidden="true" tabindex="-1"></a><span class="fu">### Missing Values</span></span>
<span id="cb75-4"><a href="#cb75-4" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`total_bedrooms`</span>: 207 missing (1%)</span>
<span id="cb75-5"><a href="#cb75-5" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span>Dropped these rows rather than imputing</span>
<span id="cb75-6"><a href="#cb75-6" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span>Rationale: Small percentage, appears random, large dataset can afford the loss</span>
<span id="cb75-7"><a href="#cb75-7" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span>Alternative considered: median imputation (would change results minimally)</span>
<span id="cb75-8"><a href="#cb75-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-9"><a href="#cb75-9" aria-hidden="true" tabindex="-1"></a><span class="fu">### Outliers</span></span>
<span id="cb75-10"><a href="#cb75-10" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Kept all outliers in <span class="in">`median_house_value`</span></span>
<span id="cb75-11"><a href="#cb75-11" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span>Verified these are real (checked against known expensive areas)</span>
<span id="cb75-12"><a href="#cb75-12" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span>Removing would bias model toward typical houses</span>
<span id="cb75-13"><a href="#cb75-13" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span>Will monitor model performance on these points</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p><strong>Why this matters:</strong></p>
<p>Three months from now, someone (maybe you!) will ask “why did we drop those missing values instead of imputing them?” If you documented your reasoning, you can answer immediately. If you didn’t, you’ll have to re-do the analysis to remember.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>Document as you go, not at the end. When you make a decision, write down why while it’s fresh in your mind. Your future self will thank you.</p>
</div>
</div>
</section>
<section id="ch1-7-outcomes" class="level3">
<h3 class="anchored" data-anchor-id="ch1-7-outcomes">Learning outcomes:</h3>
<p><strong><em>By hand</em> you should be able to:</strong></p>
<ul>
<li>Describe how EDA is a process, as opposed to a checklist</li>
<li>Give examples of how to go about EDA</li>
<li>Give examples of things that should be done by hand, and things that should be done with the help of an AI</li>
<li>Write <code>assert</code> statements that check if AI generated code is properly performing EDA</li>
</ul>
<hr>
</section>
</section>
<section id="ch1-summary" class="level2">
<h2 class="anchored" data-anchor-id="ch1-summary">Summary</h2>
<p>You’ve now learned the foundations of exploratory data analysis. Let’s recap the key points:</p>
<p><strong>The Fundamentals:</strong></p>
<ul>
<li><strong>Data manipulation</strong> with Pandas: loading, selecting, filtering, and cleaning data</li>
<li><strong>Statistical summaries</strong>: understanding distributions, detecting outliers, and computing meaningful statistics</li>
<li><strong>Visualization</strong>: choosing the right plots, creating them with Seaborn, and following best practices for readability</li>
<li><strong>Testing</strong>: using assert statements to catch errors early and verify your assumptions</li>
</ul>
<p><strong>Working with AI:</strong></p>
<ul>
<li>Write specific, detailed prompts that include context and requirements</li>
<li>Start simple and iterate—don’t try to get everything perfect in one prompt</li>
<li>Use AI to scale your work after you understand the fundamentals by hand</li>
<li>Always verify AI-generated code and results with your own understanding</li>
</ul>
<p><strong>The EDA Mindset:</strong></p>
<ul>
<li>EDA is iterative, not linear—follow insights wherever they lead</li>
<li>Document your findings and decisions as you go</li>
<li>Let EDA guide your modeling choices—every decision should be informed by what you learned about the data</li>
<li>Stay curious and ask “why?” when you see something interesting</li>
</ul>
<p><strong>The Core Philosophy:</strong></p>
<p>EDA is foundational to everything else in data science. You can’t build good models without understanding your data. AI is a powerful tool for scaling your work, but it’s not a replacement for understanding. Learn to do things by hand first, then use AI to do them at scale.</p>
<p>Use your brain. That’s what it’s there for.</p>
<hr>
</section>
<section id="ch1-practice" class="level2">
<h2 class="anchored" data-anchor-id="ch1-practice">Practice Exercises</h2>
<p>Complete these exercises using the California housing dataset to reinforce what you’ve learned:</p>
<p><strong>1. Prompt Engineering Practice</strong></p>
<p>Write three prompts for an AI coding assistant to perform the following tasks with the housing dataset. Make your prompts specific and detailed:</p>
<ol type="a">
<li><p>Create a comprehensive correlation analysis between all numeric features and median_house_value, sorted by correlation strength, with a visualization</p></li>
<li><p>Analyze how housing age affects house values across different ocean proximity categories, including statistical tests and visualizations</p></li>
<li><p>Generate a data quality report that identifies potential issues (outliers, missing values, suspicious patterns) and suggests remediation strategies</p></li>
</ol>
<p><strong>2. Visualization Design</strong></p>
<p>For each scenario below, choose the appropriate visualization type and explain why:</p>
<ol type="a">
<li><p>You want to show how the distribution of house ages differs between coastal and inland areas</p></li>
<li><p>You want to investigate whether there’s a relationship between population density (population/households) and median income</p></li>
<li><p>You want to compare the median house values across all five ocean proximity categories</p></li>
<li><p>You want to show how house values have changed across different housing ages, looking for trends</p></li>
</ol>
<p><strong>3. Data Quality Investigation</strong></p>
<p>Using assert statements and pandas methods:</p>
<ol type="a">
<li><p>Write code to verify that after cleaning, no column has more than 5% missing values</p></li>
<li><p>Create assertions to check that all house values are positive and less than $10 million</p></li>
<li><p>Write a test to ensure that total_bedrooms is always less than or equal to total_rooms</p></li>
<li><p>Verify that each ocean_proximity category has at least 100 samples</p></li>
</ol>
<p><strong>4. Complete EDA Workflow</strong></p>
<p>Perform a complete exploratory data analysis on a subset of the housing data:</p>
<ol type="a">
<li><p>Filter for districts with median_income between 3 and 6</p></li>
<li><p>Document three interesting patterns you discover in this subset</p></li>
<li><p>Create at least three visualizations that reveal insights</p></li>
<li><p>Write down two hypotheses about what would make a good predictive model for this subset</p></li>
<li><p>Use assert statements to verify your filtering worked correctly</p></li>
</ol>
<p><strong>5. Scaling with AI</strong></p>
<p>Without actually running the code, write detailed prompts that would generate:</p>
<ol type="a">
<li><p>Code to create scatter plots of median_house_value vs.&nbsp;each numeric feature, all on a single figure with subplots</p></li>
<li><p>A function that calculates and reports summary statistics (mean, median, std, min, max) for any numeric column, grouped by any categorical column</p></li>
<li><p>Code that identifies all pairs of numeric features with correlation &gt; 0.7 and creates scatter plots for each pair</p></li>
</ol>
<hr>
</section>
<section id="ch1-additional-resources" class="level2">
<h2 class="anchored" data-anchor-id="ch1-additional-resources">Additional Resources</h2>
<p><strong>Pandas Documentation:</strong></p>
<ul>
<li><a href="https://pandas.pydata.org/docs/user_guide/index.html">Pandas User Guide</a> - Comprehensive guide to Pandas functionality</li>
<li><a href="https://pandas.pydata.org/docs/user_guide/10min.html">10 Minutes to Pandas</a> - Quick-start tutorial</li>
<li><a href="https://pandas.pydata.org/docs/user_guide/cookbook.html">Pandas Cookbook</a> - Common recipes for data manipulation</li>
</ul>
<p><strong>Visualization:</strong></p>
<ul>
<li><a href="https://seaborn.pydata.org/examples/index.html">Seaborn Gallery</a> - Examples of every Seaborn plot type</li>
<li><a href="https://matplotlib.org/stable/tutorials/index.html">Matplotlib Tutorials</a> - Deep dive into matplotlib</li>
<li><a href="https://www.data-to-viz.com/">From Data to Viz</a> - Guide to choosing the right visualization</li>
</ul>
<p><strong>Data Quality and Cleaning:</strong></p>
<ul>
<li><a href="https://realpython.com/python-data-cleaning-numpy-pandas/">Data Cleaning with Python</a> - Comprehensive guide</li>
<li><a href="https://pandas.pydata.org/docs/user_guide/missing_data.html">Pandas Missing Data</a> - Official guide to handling missing values</li>
</ul>
<p><strong>Working with AI:</strong></p>
<ul>
<li><a href="https://www.promptingguide.ai/">Effective Prompting Guide</a> - Principles for writing good prompts</li>
<li><a href="https://ai.google.dev/">Gemini for Developers</a> - Google’s AI documentation for developers</li>
</ul>
<p><strong>Statistics and EDA:</strong></p>
<ul>
<li><a href="https://greenteapress.com/thinkstats2/html/index.html">Think Stats (Free Book)</a> - Statistical thinking for programmers</li>
<li><a href="https://speakerdeck.com/jakevdp/statistics-for-hackers">Statistics for Hackers</a> - Practical statistical approaches</li>
</ul>
<p><strong>Practice Datasets:</strong></p>
<ul>
<li><a href="https://archive.ics.uci.edu/ml/index.php">UCI Machine Learning Repository</a> - Hundreds of datasets for practice</li>
<li><a href="https://www.kaggle.com/datasets">Kaggle Datasets</a> - Real-world datasets with community analyses</li>
<li><a href="https://data.gov/">Data.gov</a> - US government public datasets</li>
</ul>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/paulsavala\.github\.io\/math-3339\/");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>